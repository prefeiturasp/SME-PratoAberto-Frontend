{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///map.umd.js","webpack:///webpack/bootstrap 3c369ff119dede4c4549","webpack:///external \"@angular/core\"","webpack:///./~/tslib/tslib.es6.js","webpack:///./src/components/ngui-map.component.ts","webpack:///./src/directives/base-map-directive.ts","webpack:///./src/services/api-loader.ts","webpack:///./src/services/ngui-map.ts","webpack:///./src/services/option-builder.ts","webpack:///./src/services/geo-coder.ts","webpack:///./src/services/navigator-geolocation.ts","webpack:///./src/services/config.ts","webpack:///./src/services/util.ts","webpack:///external \"rxjs/Subject\"","webpack:///external \"rxjs/operator/debounceTime\"","webpack:///./src/components/custom-marker.ts","webpack:///./src/components/info-window.ts","webpack:///./src/directives/bicycling-layer.ts","webpack:///./src/directives/circle.ts","webpack:///./src/directives/data-layer.ts","webpack:///./src/directives/directions-renderer.ts","webpack:///./src/directives/drawing-manager.ts","webpack:///./src/directives/ground-overlay.ts","webpack:///./src/directives/heatmap-layer.ts","webpack:///./src/directives/kml-layer.ts","webpack:///./src/directives/marker.ts","webpack:///./src/directives/places-auto-complete.ts","webpack:///./src/directives/polygon.ts","webpack:///./src/directives/polyline.ts","webpack:///./src/directives/street-view-panorama.ts","webpack:///./src/directives/traffic-layer.ts","webpack:///./src/directives/transit-layer.ts","webpack:///external \"rxjs/Observable\"","webpack:///./src/ngui-map.module.ts","webpack:///external \"@angular/common\"","webpack:///external \"rxjs/ReplaySubject\"","webpack:///external \"rxjs/operator/first\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_11__","__WEBPACK_EXTERNAL_MODULE_12__","__WEBPACK_EXTERNAL_MODULE_30__","__WEBPACK_EXTERNAL_MODULE_33__","__WEBPACK_EXTERNAL_MODULE_34__","__WEBPACK_EXTERNAL_MODULE_35__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__extends","b","__","constructor","extendStatics","create","__decorate","decorators","target","key","desc","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","setPrototypeOf","__proto__","Array","assign","NguiMapComponent","__WEBPACK_IMPORTED_MODULE_0_tslib__","__WEBPACK_IMPORTED_MODULE_1__angular_core__","__WEBPACK_IMPORTED_MODULE_2__services_option_builder__","__WEBPACK_IMPORTED_MODULE_3__services_navigator_geolocation__","__WEBPACK_IMPORTED_MODULE_4__services_geo_coder__","__WEBPACK_IMPORTED_MODULE_5__services_ngui_map__","__WEBPACK_IMPORTED_MODULE_6__services_api_loader__","__WEBPACK_IMPORTED_MODULE_7_rxjs_Subject__","__WEBPACK_IMPORTED_MODULE_8_rxjs_operator_debounceTime__","__WEBPACK_IMPORTED_MODULE_9__services_util__","INPUTS","OUTPUTS","optionBuilder","elementRef","geolocation","geoCoder","nguiMap","apiLoader","zone","_this","mapReady$","mapOptions","inputChanges$","infoWindows","mapIdledOnce","initializeMapAfterDisplayed","load","forEach","output","ngAfterViewInit","apiLoaderSub","api$","subscribe","initializeMap","ngAfterViewChecked","el","offsetWidth","ngOnChanges","changes","next","nativeElement","querySelector","googlizeAllInputs","console","log","zoom","center","runOutsideAngular","map","google","maps","Map","setCenter","setObjectEvents","addListener","setTimeout","emit","updateGoogleObject","window","geocode","address","results","geometry","location","error","LatLng","getCurrentPosition","position","latLng","coords","latitude","longitude","openInfoWindow","id","anchor","open","closeInfoWindow","close","ngOnDestroy","complete","clearObjectEvents","unsubscribe","addToMapObjectGroup","mapObjectName","mapObject","groupName","toLowerCase","push","removeFromMapObjectGroup","index","indexOf","splice","selector","providers","styles","inputs","outputs","encapsulation","None","template","BaseMapDirective","nguiMapComponent","initialized$","_subscriptions","ngOnInit","initialize","objectOptions","libraryName","setMap","subscription","NgMapApiLoader","NgMapAsyncCallbackApiLoader","NgMapAsyncApiLoader","__WEBPACK_IMPORTED_MODULE_2_rxjs_ReplaySubject__","__WEBPACK_IMPORTED_MODULE_3__config__","__WEBPACK_IMPORTED_MODULE_4__util__","__WEBPACK_IMPORTED_MODULE_5_rxjs_operator_first__","config","apiUrl","_super","document","componentFn","addGoogleMapsApi","nguiMapRef","run","script","createElement","src","appendChild","async","onload","NguiMap","__WEBPACK_IMPORTED_MODULE_2__option_builder__","__WEBPACK_IMPORTED_MODULE_3__geo_coder__","val","currentValue","setMethodName","replace","x","toUpperCase","googlize","definedEvents","thisObj","prefix","definedEvent","eventName","$1","event","param","clearListeners","OptionBuilder","__WEBPACK_IMPORTED_MODULE_2__util__","definedInputs","userInputs","options","onlyOptionsGiven","input","undefined","googlizeMultiple","match","getJSONParsed","getAnyMapObject","getAnyMapConstant","getDateObject","LatLngBounds","getMapIcons","getLatLng","getMarkerIcon","getMapControlOption","isNaN","parseFloat","isFinite","newOptions","e","Function","matches","capitalizedKey","charAt","slice","controlOptions","newControlOptions","str","MapTypeId","objName","ControlPosition","Date","icon","path","SymbolPath","arr","Point","Size","GeoCoder","__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__","__WEBPACK_IMPORTED_MODULE_3__api_loader__","apiLoaderSubs","responseObserver","requestGeocode","sub","observer","Geocoder","status","GeocoderStatus","OK","NavigatorGeolocation","geoLocationOptions","timeout","navigator","evt","NG_MAP_CONFIG_TOKEN","__WEBPACK_IMPORTED_MODULE_0__angular_core__","jsonize","JSON","parse","_","getJSON","re","toCamelCase","letter","isMapsApiLoaded","getCustomMarkerOverlayView","htmlEl","CustomMarkerOverlayView","visible","setPosition","style","visibility","geocoder","lng","getProjection","positionOnMap_1","posPixel","fromLatLngToDivPixel","Math","round","y","offsetHeight","left","top","onAdd","getPanes","overlayMouseTarget","draw","setZIndex","zIndex","setVisible","onRemove","getPosition","display","OverlayView","CustomMarker","__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__","__WEBPACK_IMPORTED_MODULE_3_rxjs_operator_debounceTime__","__WEBPACK_IMPORTED_MODULE_4__services_ngui_map__","__WEBPACK_IMPORTED_MODULE_5__ngui_map_component__","InfoWindow","infoWindow","setContent","element","read","BicyclingLayer","__WEBPACK_IMPORTED_MODULE_2__base_map_directive__","__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__","nguiMapComp","Circle","DataLayer","data","addGeoJson","loadGeoJson","add","DirectionsRenderer","__WEBPACK_IMPORTED_MODULE_4__services_navigator_geolocation__","directionsRequest","directionsService","DirectionsService","directionsRenderer","showDirections","route","response","DirectionsStatus","setDirections","DrawingManager","GroundOverlay","HeatmapLayer","KmlLayer","Marker","PlacesAutoComplete","__WEBPACK_IMPORTED_MODULE_2__services_api_loader__","__WEBPACK_IMPORTED_MODULE_3__services_option_builder__","place_changed","autocomplete","places","Autocomplete","place","getPlace","Polygon","Polyline","StreetViewPanorama","TrafficLayer","TransitLayer","NguiMapModule","__WEBPACK_IMPORTED_MODULE_2__angular_common__","__WEBPACK_IMPORTED_MODULE_5__services_navigator_geolocation__","__WEBPACK_IMPORTED_MODULE_6__services_config__","__WEBPACK_IMPORTED_MODULE_7__services_api_loader__","__WEBPACK_IMPORTED_MODULE_8__components_ngui_map_component__","__WEBPACK_IMPORTED_MODULE_9__components_info_window__","__WEBPACK_IMPORTED_MODULE_10__components_custom_marker__","__WEBPACK_IMPORTED_MODULE_11__directives_bicycling_layer__","__WEBPACK_IMPORTED_MODULE_12__directives_circle__","__WEBPACK_IMPORTED_MODULE_13__directives_data_layer__","__WEBPACK_IMPORTED_MODULE_14__directives_directions_renderer__","__WEBPACK_IMPORTED_MODULE_15__directives_drawing_manager__","__WEBPACK_IMPORTED_MODULE_16__directives_ground_overlay__","__WEBPACK_IMPORTED_MODULE_17__directives_heatmap_layer__","__WEBPACK_IMPORTED_MODULE_18__directives_kml_layer__","__WEBPACK_IMPORTED_MODULE_19__directives_marker__","__WEBPACK_IMPORTED_MODULE_20__services_ngui_map__","__WEBPACK_IMPORTED_MODULE_21__directives_places_auto_complete__","__WEBPACK_IMPORTED_MODULE_22__directives_polygon__","__WEBPACK_IMPORTED_MODULE_23__directives_polyline__","__WEBPACK_IMPORTED_MODULE_24__directives_street_view_panorama__","__WEBPACK_IMPORTED_MODULE_25__directives_traffic_layer__","__WEBPACK_IMPORTED_MODULE_26__directives_transit_layer__","COMPONENTS_DIRECTIVES","NguiMapModule_1","forRoot","ngModule","provide","useValue","imports","declarations","useClass","__WEBPACK_IMPORTED_MODULE_0__directives_bicycling_layer__","__WEBPACK_IMPORTED_MODULE_1__services_navigator_geolocation__","__WEBPACK_IMPORTED_MODULE_3__services_config__","__WEBPACK_IMPORTED_MODULE_4__services_api_loader__","__WEBPACK_IMPORTED_MODULE_5__components_ngui_map_component__","__WEBPACK_IMPORTED_MODULE_6__components_info_window__","__WEBPACK_IMPORTED_MODULE_7__components_custom_marker__","__WEBPACK_IMPORTED_MODULE_8__directives_circle__","__WEBPACK_IMPORTED_MODULE_9__directives_data_layer__","__WEBPACK_IMPORTED_MODULE_10__directives_directions_renderer__","__WEBPACK_IMPORTED_MODULE_11__directives_drawing_manager__","__WEBPACK_IMPORTED_MODULE_12__services_geo_coder__","__WEBPACK_IMPORTED_MODULE_13__directives_ground_overlay__","__WEBPACK_IMPORTED_MODULE_14__directives_heatmap_layer__","__WEBPACK_IMPORTED_MODULE_15__directives_kml_layer__","__WEBPACK_IMPORTED_MODULE_16__directives_marker__","__WEBPACK_IMPORTED_MODULE_17__services_ngui_map__","__WEBPACK_IMPORTED_MODULE_18__directives_places_auto_complete__","__WEBPACK_IMPORTED_MODULE_19__directives_polygon__","__WEBPACK_IMPORTED_MODULE_20__directives_polyline__","__WEBPACK_IMPORTED_MODULE_21__directives_street_view_panorama__","__WEBPACK_IMPORTED_MODULE_22__directives_traffic_layer__","__WEBPACK_IMPORTED_MODULE_23__directives_transit_layer__","__WEBPACK_IMPORTED_MODULE_24__ngui_map_module__"],"mappings":"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","file":"map.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"rxjs/Subject\"), require(\"rxjs/operator/debounceTime\"), require(\"rxjs/Observable\"), require(\"@angular/common\"), require(\"rxjs/ReplaySubject\"), require(\"rxjs/operator/first\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"rxjs/Subject\", \"rxjs/operator/debounceTime\", \"rxjs/Observable\", \"@angular/common\", \"rxjs/ReplaySubject\", \"rxjs/operator/first\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"map\"] = factory(require(\"@angular/core\"), require(\"rxjs/Subject\"), require(\"rxjs/operator/debounceTime\"), require(\"rxjs/Observable\"), require(\"@angular/common\"), require(\"rxjs/ReplaySubject\"), require(\"rxjs/operator/first\"));\n\telse\n\t\troot[\"map\"] = factory(root[\"@angular/core\"], root[\"rxjs/Subject\"], root[\"rxjs/operator/debounceTime\"], root[\"rxjs/Observable\"], root[\"@angular/common\"], root[\"rxjs/ReplaySubject\"], root[\"rxjs/operator/first\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_30__, __WEBPACK_EXTERNAL_MODULE_33__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_35__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"rxjs/Subject\"), require(\"rxjs/operator/debounceTime\"), require(\"rxjs/Observable\"), require(\"@angular/common\"), require(\"rxjs/ReplaySubject\"), require(\"rxjs/operator/first\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"rxjs/Subject\", \"rxjs/operator/debounceTime\", \"rxjs/Observable\", \"@angular/common\", \"rxjs/ReplaySubject\", \"rxjs/operator/first\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"map\"] = factory(require(\"@angular/core\"), require(\"rxjs/Subject\"), require(\"rxjs/operator/debounceTime\"), require(\"rxjs/Observable\"), require(\"@angular/common\"), require(\"rxjs/ReplaySubject\"), require(\"rxjs/operator/first\"));\n\telse\n\t\troot[\"map\"] = factory(root[\"@angular/core\"], root[\"rxjs/Subject\"], root[\"rxjs/operator/debounceTime\"], root[\"rxjs/Observable\"], root[\"@angular/common\"], root[\"rxjs/ReplaySubject\"], root[\"rxjs/operator/first\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_30__, __WEBPACK_EXTERNAL_MODULE_33__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_35__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 32);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = __extends;\n/* unused harmony export __assign */\n/* unused harmony export __rest */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = __decorate;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = __param;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = __metadata;\n/* unused harmony export __awaiter */\n/* unused harmony export __generator */\n/* unused harmony export __exportStar */\n/* unused harmony export __values */\n/* unused harmony export __read */\n/* unused harmony export __spread */\n/* unused harmony export __await */\n/* unused harmony export __asyncGenerator */\n/* unused harmony export __asyncDelegator */\n/* unused harmony export __asyncValues */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return NguiMapComponent; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_option_builder__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_navigator_geolocation__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_geo_coder__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_ngui_map__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_api_loader__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_Subject__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_Subject__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_operator_debounceTime__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_operator_debounceTime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_util__ = __webpack_require__(10);\n\n\n\n\n\n\n\n\n\n\nvar INPUTS = [\n    'backgroundColor', 'center', 'disableDefaultUI', 'disableDoubleClickZoom', 'draggable', 'draggableCursor',\n    'draggingCursor', 'heading', 'keyboardShortcuts', 'mapMaker', 'mapTypeControl', 'mapTypeId', 'maxZoom', 'minZoom',\n    'noClear', 'overviewMapControl', 'panControl', 'panControlOptions', 'rotateControl', 'scaleControl', 'scrollwheel',\n    'streetView', 'styles', 'tilt', 'zoom', 'streetViewControl', 'zoomControl', 'zoomControlOptions', 'mapTypeControlOptions',\n    'overviewMapControlOptions', 'rotateControlOptions', 'scaleControlOptions', 'streetViewControlOptions', 'fullscreenControl', 'fullscreenControlOptions',\n    'options',\n    // ngui-map-specific inputs\n    'geoFallbackCenter'\n];\nvar OUTPUTS = [\n    'bounds_changed', 'center_changed', 'click', 'dblclick', 'drag', 'dragend', 'dragstart', 'heading_changed', 'idle',\n    'typeid_changed', 'mousemove', 'mouseout', 'mouseover', 'projection_changed', 'resize', 'rightclick',\n    'tilesloaded', 'tile_changed', 'zoom_changed',\n    // to avoid DOM event conflicts\n    'mapClick', 'mapMouseover', 'mapMouseout', 'mapMousemove', 'mapDrag', 'mapDragend', 'mapDragstart'\n];\nvar NguiMapComponent = (function () {\n    function NguiMapComponent(optionBuilder, elementRef, geolocation, geoCoder, nguiMap, apiLoader, zone) {\n        var _this = this;\n        this.optionBuilder = optionBuilder;\n        this.elementRef = elementRef;\n        this.geolocation = geolocation;\n        this.geoCoder = geoCoder;\n        this.nguiMap = nguiMap;\n        this.apiLoader = apiLoader;\n        this.zone = zone;\n        this.mapReady$ = new __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"]();\n        this.mapOptions = {};\n        this.inputChanges$ = new __WEBPACK_IMPORTED_MODULE_7_rxjs_Subject__[\"Subject\"]();\n        // map objects by group\n        this.infoWindows = {};\n        // map has been fully initialized\n        this.mapIdledOnce = false;\n        this.initializeMapAfterDisplayed = false;\n        apiLoader.load();\n        // all outputs needs to be initialized,\n        // http://stackoverflow.com/questions/37765519/angular2-directive-cannot-read-property-subscribe-of-undefined-with-outputs\n        OUTPUTS.forEach(function (output) { return _this[output] = new __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"](); });\n    }\n    NguiMapComponent.prototype.ngAfterViewInit = function () {\n        var _this = this;\n        this.apiLoaderSub = this.apiLoader.api$.subscribe(function () { return _this.initializeMap(); });\n    };\n    NguiMapComponent.prototype.ngAfterViewChecked = function () {\n        if (this.initializeMapAfterDisplayed && this.el && this.el.offsetWidth > 0) {\n            this.initializeMap();\n        }\n    };\n    NguiMapComponent.prototype.ngOnChanges = function (changes) {\n        this.inputChanges$.next(changes);\n    };\n    NguiMapComponent.prototype.initializeMap = function () {\n        var _this = this;\n        this.el = this.elementRef.nativeElement.querySelector('.google-map');\n        if (this.el && this.el.offsetWidth === 0) {\n            this.initializeMapAfterDisplayed = true;\n            return;\n        }\n        this.initializeMapAfterDisplayed = false;\n        this.mapOptions = this.optionBuilder.googlizeAllInputs(INPUTS, this);\n        console.log('ngui-map mapOptions', this.mapOptions);\n        this.mapOptions.zoom = this.mapOptions.zoom || 15;\n        typeof this.mapOptions.center === 'string' && (delete this.mapOptions.center);\n        this.zone.runOutsideAngular(function () {\n            _this.map = new google.maps.Map(_this.el, _this.mapOptions);\n            _this.map['mapObjectName'] = 'NguiMapComponent';\n            if (!_this.mapOptions.center) {\n                _this.setCenter();\n            }\n            // set google events listeners and emits to this outputs listeners\n            _this.nguiMap.setObjectEvents(OUTPUTS, _this, 'map');\n            _this.map.addListener('idle', function () {\n                if (!_this.mapIdledOnce) {\n                    _this.mapIdledOnce = true;\n                    setTimeout(function () {\n                        _this.mapReady$.emit(_this.map);\n                    });\n                }\n            });\n            // update map when input changes\n            __WEBPACK_IMPORTED_MODULE_8_rxjs_operator_debounceTime__[\"debounceTime\"].call(_this.inputChanges$, 1000)\n                .subscribe(function (changes) { return _this.nguiMap.updateGoogleObject(_this.map, changes); });\n            if (typeof window !== 'undefined' && window['nguiMapRef']) {\n                // expose map object for test and debugging on (<any>window)\n                window['nguiMapRef'].map = _this.map;\n            }\n        });\n    };\n    NguiMapComponent.prototype.setCenter = function () {\n        var _this = this;\n        if (!this['center']) {\n            this.geolocation.getCurrentPosition().subscribe(function (position) {\n                console.log('setting map center from current location');\n                var latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n                _this.map.setCenter(latLng);\n            }, function (error) {\n                console.error('ngui-map: Error finding the current position');\n                _this.map.setCenter(_this.mapOptions['geoFallbackCenter'] || new google.maps.LatLng(0, 0));\n            });\n        }\n        else if (typeof this['center'] === 'string') {\n            this.geoCoder.geocode({ address: this['center'] }).subscribe(function (results) {\n                console.log('setting map center from address', _this['center']);\n                _this.map.setCenter(results[0].geometry.location);\n            }, function (error) {\n                _this.map.setCenter(_this.mapOptions['geoFallbackCenter'] || new google.maps.LatLng(0, 0));\n            });\n        }\n    };\n    NguiMapComponent.prototype.openInfoWindow = function (id, anchor) {\n        this.infoWindows[id].open(anchor);\n    };\n    NguiMapComponent.prototype.closeInfoWindow = function (id) {\n        // if infoWindow for id exists, close the infoWindow\n        if (this.infoWindows[id])\n            this.infoWindows[id].close();\n    };\n    NguiMapComponent.prototype.ngOnDestroy = function () {\n        this.inputChanges$.complete();\n        if (this.el && !this.initializeMapAfterDisplayed) {\n            this.nguiMap.clearObjectEvents(OUTPUTS, this, 'map');\n        }\n        if (this.apiLoaderSub) {\n            this.apiLoaderSub.unsubscribe();\n        }\n    };\n    // map.markers, map.circles, map.heatmapLayers.. etc\n    NguiMapComponent.prototype.addToMapObjectGroup = function (mapObjectName, mapObject) {\n        var groupName = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__services_util__[\"a\" /* toCamelCase */])(mapObjectName.toLowerCase()) + 's'; // e.g. markers\n        this.map[groupName] = this.map[groupName] || [];\n        this.map[groupName].push(mapObject);\n    };\n    NguiMapComponent.prototype.removeFromMapObjectGroup = function (mapObjectName, mapObject) {\n        var groupName = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__services_util__[\"a\" /* toCamelCase */])(mapObjectName.toLowerCase()) + 's'; // e.g. markers\n        if (this.map && this.map[groupName]) {\n            var index = this.map[groupName].indexOf(mapObject);\n            console.log('index', mapObject, index);\n            (index > -1) && this.map[groupName].splice(index, 1);\n        }\n    };\n    return NguiMapComponent;\n}());\n__WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Output\"])(),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:type\", __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"])\n], NguiMapComponent.prototype, \"mapReady$\", void 0);\nNguiMapComponent = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Component\"])({\n        selector: 'ngui-map',\n        providers: [__WEBPACK_IMPORTED_MODULE_5__services_ngui_map__[\"a\" /* NguiMap */], __WEBPACK_IMPORTED_MODULE_2__services_option_builder__[\"a\" /* OptionBuilder */], __WEBPACK_IMPORTED_MODULE_4__services_geo_coder__[\"a\" /* GeoCoder */], __WEBPACK_IMPORTED_MODULE_3__services_navigator_geolocation__[\"a\" /* NavigatorGeolocation */]],\n        styles: [\"\\n    ngui-map {display: block; height: 300px;}\\n    .google-map {width: 100%; height: 100%}\\n  \"],\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n        encapsulation: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"ViewEncapsulation\"].None,\n        template: \"\\n    <div class=\\\"google-map\\\"></div>\\n    <ng-content></ng-content>\\n  \",\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_2__services_option_builder__[\"a\" /* OptionBuilder */],\n        __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"ElementRef\"],\n        __WEBPACK_IMPORTED_MODULE_3__services_navigator_geolocation__[\"a\" /* NavigatorGeolocation */],\n        __WEBPACK_IMPORTED_MODULE_4__services_geo_coder__[\"a\" /* GeoCoder */],\n        __WEBPACK_IMPORTED_MODULE_5__services_ngui_map__[\"a\" /* NguiMap */],\n        __WEBPACK_IMPORTED_MODULE_6__services_api_loader__[\"a\" /* NgMapApiLoader */],\n        __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"NgZone\"]])\n], NguiMapComponent);\n\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return BaseMapDirective; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n\n\nvar BaseMapDirective = (function () {\n    function BaseMapDirective(nguiMapComponent, mapObjectName, inputs, outputs) {\n        var _this = this;\n        this.nguiMapComponent = nguiMapComponent;\n        this.mapObjectName = mapObjectName;\n        this.inputs = inputs;\n        this.outputs = outputs;\n        // this should be redefined on each childr directive\n        this.initialized$ = new __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"]();\n        this._subscriptions = [];\n        this.nguiMap = this.nguiMapComponent['nguiMap'];\n        this.optionBuilder = this.nguiMapComponent['optionBuilder'];\n        // all outputs must be initialized\n        this.outputs.forEach(function (output) { return _this[output] = new __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"](); });\n        this.mapObjectName = mapObjectName;\n    }\n    // Initialize this map object when map is ready\n    BaseMapDirective.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.nguiMapComponent.mapIdledOnce) {\n            this.initialize();\n        }\n        else {\n            this.nguiMapComponent.mapReady$.subscribe(function (map) { return _this.initialize(); });\n        }\n    };\n    // only called when map is ready\n    BaseMapDirective.prototype.initialize = function () {\n        this.objectOptions = this.optionBuilder.googlizeAllInputs(this.inputs, this);\n        console.log(this.mapObjectName, 'initialization options', this.objectOptions);\n        // will be set after geocoded\n        typeof this.objectOptions.position === 'string' && (delete this.objectOptions.position);\n        typeof this.objectOptions.center === 'string' && (delete this.objectOptions.center);\n        // noinspection TypeScriptUnresolvedFunction\n        if (this.libraryName) {\n            this.mapObject = new google.maps[this.libraryName][this.mapObjectName](this.objectOptions);\n        }\n        else {\n            this.mapObject = new google.maps[this.mapObjectName](this.objectOptions);\n        }\n        this.mapObject.setMap(this.nguiMapComponent.map);\n        this.mapObject['mapObjectName'] = this.mapObjectName;\n        this.mapObject['nguiMapComponent'] = this.nguiMapComponent;\n        // set google events listeners and emits to this outputs listeners\n        this.nguiMap.setObjectEvents(this.outputs, this, 'mapObject');\n        this.nguiMapComponent.addToMapObjectGroup(this.mapObjectName, this.mapObject);\n        this.initialized$.emit(this.mapObject);\n    };\n    // When input is changed, update object too.\n    // e.g., when map center is changed by user, update center on the map\n    BaseMapDirective.prototype.ngOnChanges = function (changes) {\n        console.log(this.mapObjectName, 'objectOptions are changed', changes);\n        this.nguiMap.updateGoogleObject(this.mapObject, changes);\n    };\n    // When destroyed, remove event listener, and delete this object to prevent memory leak\n    BaseMapDirective.prototype.ngOnDestroy = function () {\n        this._subscriptions.map(function (subscription) { return subscription.unsubscribe(); });\n        this.nguiMapComponent.removeFromMapObjectGroup(this.mapObjectName, this.mapObject);\n        if (this.mapObject) {\n            this.nguiMap.clearObjectEvents(this.outputs, this, 'mapObject');\n        }\n    };\n    return BaseMapDirective;\n}());\n\n__WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Output\"])(),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:type\", __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"])\n], BaseMapDirective.prototype, \"initialized$\", void 0);\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return NgMapApiLoader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return NgMapAsyncCallbackApiLoader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return NgMapAsyncApiLoader; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_ReplaySubject__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_ReplaySubject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_ReplaySubject__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__util__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_operator_first__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_operator_first___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_operator_first__);\n\n\n\n\n\n\nvar NgMapApiLoader = (function () {\n    function NgMapApiLoader(config) {\n        this.config = config;\n        this.api$ = __WEBPACK_IMPORTED_MODULE_5_rxjs_operator_first__[\"first\"].call(new __WEBPACK_IMPORTED_MODULE_2_rxjs_ReplaySubject__[\"ReplaySubject\"](1));\n        this.config = this.config || { apiUrl: 'https://maps.google.com/maps/api/js' };\n    }\n    NgMapApiLoader.prototype.ngOnDestroy = function () {\n        this.api$.complete();\n    };\n    return NgMapApiLoader;\n}());\n\nvar NgMapAsyncCallbackApiLoader = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](NgMapAsyncCallbackApiLoader, _super);\n    function NgMapAsyncCallbackApiLoader(zone, config) {\n        var _this = _super.call(this, config) || this;\n        _this.zone = zone;\n        return _this;\n    }\n    NgMapAsyncCallbackApiLoader.prototype.load = function () {\n        var _this = this;\n        if (typeof window === 'undefined') {\n            return;\n        }\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__util__[\"b\" /* isMapsApiLoaded */])()) {\n            this.api$.next(google.maps);\n        }\n        else if (!document.querySelector('#ngui-map-api')) {\n            window['nguiMapRef'] = window['nguiMapRef'] || [];\n            window['nguiMapRef'].push({ zone: this.zone, componentFn: function () { return _this.api$.next(google.maps); } });\n            this.addGoogleMapsApi();\n        }\n    };\n    NgMapAsyncCallbackApiLoader.prototype.addGoogleMapsApi = function () {\n        window['initNguiMap'] = window['initNguiMap'] || function () {\n            window['nguiMapRef'].forEach(function (nguiMapRef) {\n                nguiMapRef.zone.run(function () { nguiMapRef.componentFn(); });\n            });\n            window['nguiMapRef'].splice(0, window['nguiMapRef'].length);\n        };\n        var script = document.createElement('script');\n        script.id = 'ngui-map-api';\n        // script.src = \"https://maps.google.com/maps/api/js?callback=initNguiMap\";\n        var apiUrl = this.config.apiUrl;\n        apiUrl += apiUrl.indexOf('?') !== -1 ? '&' : '?';\n        script.src = apiUrl + 'callback=initNguiMap';\n        document.querySelector('body').appendChild(script);\n    };\n    return NgMapAsyncCallbackApiLoader;\n}(NgMapApiLoader));\nNgMapAsyncCallbackApiLoader = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"])(),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"d\" /* __param */](1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Optional\"])()), __WEBPACK_IMPORTED_MODULE_0_tslib__[\"d\" /* __param */](1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Inject\"])(__WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* NG_MAP_CONFIG_TOKEN */])),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"NgZone\"], Object])\n], NgMapAsyncCallbackApiLoader);\n\nvar NgMapAsyncApiLoader = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](NgMapAsyncApiLoader, _super);\n    function NgMapAsyncApiLoader(config) {\n        return _super.call(this, config) || this;\n    }\n    NgMapAsyncApiLoader.prototype.load = function () {\n        var _this = this;\n        if (typeof window === 'undefined') {\n            return;\n        }\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__util__[\"b\" /* isMapsApiLoaded */])()) {\n            this.api$.next(google.maps);\n        }\n        else if (!document.querySelector('#ngui-map-api')) {\n            var script = document.createElement('script');\n            script.id = 'ngui-map-api';\n            script.async = true;\n            script.onload = function () { return _this.api$.next(google.maps); };\n            script.src = this.config.apiUrl;\n            document.querySelector('body').appendChild(script);\n        }\n    };\n    return NgMapAsyncApiLoader;\n}(NgMapApiLoader));\nNgMapAsyncApiLoader = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"])(),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"d\" /* __param */](0, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Optional\"])()), __WEBPACK_IMPORTED_MODULE_0_tslib__[\"d\" /* __param */](0, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Inject\"])(__WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* NG_MAP_CONFIG_TOKEN */])),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [Object])\n], NgMapAsyncApiLoader);\n\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return NguiMap; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__option_builder__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__geo_coder__ = __webpack_require__(7);\n\n\n\n\n/**\n * collection of map instance-related properties and methods\n */\nvar NguiMap = (function () {\n    function NguiMap(geoCoder, optionBuilder, zone) {\n        var _this = this;\n        this.geoCoder = geoCoder;\n        this.optionBuilder = optionBuilder;\n        this.zone = zone;\n        this.updateGoogleObject = function (object, changes) {\n            var val, currentValue, setMethodName;\n            if (object) {\n                for (var key in changes) {\n                    setMethodName = \"set\" + key.replace(/^[a-z]/, function (x) { return x.toUpperCase(); });\n                    currentValue = changes[key].currentValue;\n                    if (['position', 'center'].indexOf(key) !== -1 && typeof currentValue === 'string') {\n                        // To preserve setMethod name in Observable callback, wrap it as a function, then execute\n                        (function (setMethodName) {\n                            _this.geoCoder.geocode({ address: currentValue }).subscribe(function (results) {\n                                if (typeof object[setMethodName] === 'function') {\n                                    object[setMethodName](results[0].geometry.location);\n                                }\n                                else {\n                                    console.error('Not all options are dynamically updatable according to Googles Maps API V3 documentation.\\n' +\n                                        'Please check Google Maps API documentation, and use \"setOptions\" instead.');\n                                }\n                            });\n                        })(setMethodName);\n                    }\n                    else {\n                        val = _this.optionBuilder.googlize(currentValue);\n                        if (typeof object[setMethodName] === 'function') {\n                            object[setMethodName](val);\n                        }\n                        else {\n                            console.error('Not all options are dynamically updatable according to Googles Maps API V3 documentation.\\n' +\n                                'Please check Google Maps API documentation, and use \"setOptions\" instead.');\n                        }\n                    }\n                }\n            }\n        };\n    }\n    NguiMap.prototype.setObjectEvents = function (definedEvents, thisObj, prefix) {\n        var _this = this;\n        definedEvents.forEach(function (definedEvent) {\n            var eventName = definedEvent\n                .replace(/([A-Z])/g, function ($1) { return \"_\" + $1.toLowerCase(); }) // positionChanged -> position_changed\n                .replace(/^map_/, ''); // map_click -> click  to avoid DOM conflicts\n            var zone = _this.zone;\n            zone.runOutsideAngular(function () {\n                thisObj[prefix].addListener(eventName, function (event) {\n                    var param = event ? event : {};\n                    param.target = this;\n                    zone.run(function () { return thisObj[definedEvent].emit(param); });\n                });\n            });\n        });\n    };\n    NguiMap.prototype.clearObjectEvents = function (definedEvents, thisObj, prefix) {\n        var _this = this;\n        definedEvents.forEach(function (definedEvent) {\n            var eventName = definedEvent\n                .replace(/([A-Z])/g, function ($1) { return \"_\" + $1.toLowerCase(); }) // positionChanged -> position_changed\n                .replace(/^map_/, ''); // map_click -> click  to avoid DOM conflicts\n            _this.zone.runOutsideAngular(function () {\n                google.maps.event.clearListeners(thisObj[prefix], eventName);\n            });\n        });\n        if (thisObj[prefix]) {\n            if (thisObj[prefix].setMap) {\n                thisObj[prefix].setMap(null);\n            }\n            delete thisObj[prefix].nguiMapComponent;\n            delete thisObj[prefix];\n        }\n    };\n    return NguiMap;\n}());\nNguiMap = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"])(),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__geo_coder__[\"a\" /* GeoCoder */],\n        __WEBPACK_IMPORTED_MODULE_2__option_builder__[\"a\" /* OptionBuilder */],\n        __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"NgZone\"]])\n], NguiMap);\n\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return OptionBuilder; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util__ = __webpack_require__(10);\n\n\n\n/**\n * change any object to google object options\n * e.g. [1,2] -> new google.maps.LatLng(1,2);\n */\nvar OptionBuilder = (function () {\n    function OptionBuilder() {\n    }\n    OptionBuilder.prototype.googlizeAllInputs = function (definedInputs, userInputs) {\n        var _this = this;\n        var options = {};\n        // if options given from user, only take options and ignore other inputs\n        if (userInputs.options) {\n            console.log('userInputs.options .................', userInputs.options);\n            options = userInputs.options;\n            if (!this.onlyOptionsGiven(definedInputs, userInputs)) {\n                console.error('when \"options\" are used, other options are ignored');\n            }\n        }\n        else {\n            definedInputs.forEach(function (input) {\n                if (userInputs[input] !== undefined) {\n                    options[input] = _this.googlize(userInputs[input], { key: input });\n                }\n            });\n        }\n        return options;\n    };\n    OptionBuilder.prototype.googlizeMultiple = function (inputs, options) {\n        options = options || {};\n        for (var key in inputs) {\n            var val = inputs[key];\n            // (non-strings are fully converted)\n            if (typeof val !== 'string') {\n                options[key] = val;\n            } // sometimes '0' needed to stay as it is\n            else if (!(options['doNotConverStringToNumber'] && val.match(/^[0-9]+$/))) {\n                options[key] = this.googlize(val, { key: key });\n            }\n        } // for(var key in attrs)\n        return options;\n    };\n    OptionBuilder.prototype.googlize = function (input, options) {\n        options = options || {};\n        var output = input;\n        if (typeof input === 'string') {\n            if (input === 'false') {\n                output = false;\n            }\n            else if (input === '0') {\n                output = 0;\n            }\n            else {\n                output =\n                    // -> googlize -> getJsonParsed -> googlizeMultiple -> googlize until all elements are parsed\n                    this.getJSONParsed(input, options)\n                        || this.getAnyMapObject(input)\n                        || this.getAnyMapConstant(input, options)\n                        || this.getDateObject(input)\n                        || input;\n            }\n        }\n        if (options['key']) {\n            var key = options['key'];\n            if (output instanceof Array) {\n                if (key === 'bounds') {\n                    output = new google.maps.LatLngBounds(output[0], output[1]);\n                }\n                else if (key === 'icons') {\n                    output = this.getMapIcons(output);\n                }\n                else if (key === 'position' || key.match(/^geoFallback/)) {\n                    output = this.getLatLng(output);\n                }\n            }\n            else if (output instanceof Object) {\n                if (key === 'icon') {\n                    output = this.getMarkerIcon(output);\n                }\n                else if (key.match(/ControlOptions$/)) {\n                    output = this.getMapControlOption(output);\n                }\n            }\n        }\n        // delete keys only for processing, not used by google\n        delete output['doNotConverStringToNumber'];\n        delete output['key'];\n        return output;\n    };\n    OptionBuilder.prototype.getLatLng = function (input) {\n        var output;\n        if (input[0].constructor === Array) {\n            output = input.map(function (el) { return new google.maps.LatLng(el[0], el[1]); });\n        }\n        else if (!isNaN(parseFloat(input[0])) && isFinite(input[0])) {\n            output = new google.maps.LatLng(input[0], input[1]);\n        }\n        return output;\n    };\n    OptionBuilder.prototype.getJSONParsed = function (input, options) {\n        var output;\n        try {\n            output = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__util__[\"c\" /* getJSON */])(input);\n            if (output instanceof Array) {\n                // [{a:1}] : not lat/lng ones\n                if (output[0].constructor !== Object) {\n                    output = this.getLatLng(output);\n                }\n            }\n            else if (output === Object(output)) {\n                // check for nested hashes and convert to Google API options\n                var newOptions = options;\n                newOptions['doNotConverStringToNumber'] = true;\n                output = this.googlizeMultiple(output, newOptions);\n            }\n        }\n        catch (e) {\n        }\n        return output;\n    };\n    OptionBuilder.prototype.getAnyMapObject = function (input) {\n        var output;\n        if (input.match(/^[A-Z][a-zA-Z0-9]+\\(.*\\)$/)) {\n            try {\n                output = Function(\"return new google.maps.\" + input + \";\")();\n            }\n            catch (e) { }\n        }\n        return output;\n    };\n    OptionBuilder.prototype.getAnyMapConstant = function (input, options) {\n        var output;\n        if (input.match(/^([A-Z][a-zA-Z0-9]+)\\.([A-Z]+)$/)) {\n            try {\n                var matches = input.match(/^([A-Z][a-zA-Z0-9]+)\\.([A-Z]+)$/);\n                output = google.maps[matches[1]][matches[2]];\n            }\n            catch (e) { }\n        }\n        else if (input.match(/^[A-Z]+$/)) {\n            try {\n                var capitalizedKey = options['key'].charAt(0).toUpperCase() +\n                    options['key'].slice(1);\n                output = google.maps[capitalizedKey][input];\n            }\n            catch (e) { }\n        }\n        return output;\n    };\n    /**\n     * streetviewControl, panControl, etc, not a general control\n     */\n    OptionBuilder.prototype.getMapControlOption = function (controlOptions) {\n        var newControlOptions = controlOptions;\n        for (var key in newControlOptions) {\n            if (newControlOptions[key]) {\n                var value = newControlOptions[key];\n                if (typeof value === 'string') {\n                    value = value.toUpperCase();\n                }\n                else if (key === 'mapTypeIds') {\n                    value = value.map(function (str) {\n                        if (str.match(/^[A-Z]+$/)) {\n                            return google.maps.MapTypeId[str.toUpperCase()];\n                        }\n                        else {\n                            return str;\n                        }\n                    });\n                }\n                if (key === 'style') {\n                    var objName = key.replace(/Options$/, '') + 'Style';\n                    newControlOptions[key] = google.maps[objName][value];\n                }\n                else if (key === 'position') {\n                    newControlOptions[key] = google.maps.ControlPosition[value];\n                }\n                else {\n                    newControlOptions[key] = value;\n                }\n            }\n        }\n        return newControlOptions;\n    };\n    OptionBuilder.prototype.getDateObject = function (input) {\n        var output;\n        if (input.match(/^(\\d{4}\\-\\d\\d\\-\\d\\d([tT][\\d:\\.]*)?)([zZ]|([+\\-])(\\d\\d):?(\\d\\d))?$/)) {\n            try {\n                output = new Date(input);\n            }\n            catch (e) { }\n        }\n        return output;\n    };\n    OptionBuilder.prototype.getMapIcons = function (input) {\n        return input.map(function (el) {\n            if (el.icon.path.match(/^[A-Z_]+$/)) {\n                el.icon.path = google.maps.SymbolPath[el.icon.path];\n            }\n            return el;\n        });\n    };\n    OptionBuilder.prototype.getMarkerIcon = function (input) {\n        var output = input;\n        if (('' + output.path).match(/^[A-Z_]+$/)) {\n            output.path = google.maps.SymbolPath[output.path];\n        }\n        for (var key in output) {\n            var arr = output[key];\n            if (key === 'anchor' || key === 'origin' || key === 'labelOrigin') {\n                output[key] = new google.maps.Point(arr[0], arr[1]);\n            }\n            else if (key === 'size' || key === 'scaledSize') {\n                output[key] = new google.maps.Size(arr[0], arr[1]);\n            }\n        }\n        return output;\n    };\n    OptionBuilder.prototype.onlyOptionsGiven = function (definedInputs, userInputs) {\n        for (var i = 0; i < definedInputs.length; i++) {\n            var input = definedInputs[i];\n            if (input !== 'options' && typeof userInputs[input] !== 'undefined') {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OptionBuilder;\n}());\nOptionBuilder = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"])()\n], OptionBuilder);\n\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return GeoCoder; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_loader__ = __webpack_require__(4);\n\n\n\n\n/**\n *   Provides [defered/promise API](https://docs.angularjs.org/api/ng/service/$q)\n *   service for Google Geocoder service\n */\nvar GeoCoder = (function () {\n    function GeoCoder(apiLoader) {\n        this.apiLoader = apiLoader;\n        this.apiLoaderSubs = [];\n    }\n    GeoCoder.prototype.geocode = function (options) {\n        var _this = this;\n        return new __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__[\"Observable\"](function (responseObserver) {\n            _this.apiLoaderSubs.push(_this.apiLoader.api$\n                .subscribe(function () { return _this.requestGeocode(options, responseObserver); }));\n        });\n    };\n    GeoCoder.prototype.ngOnDestroy = function () {\n        this.apiLoaderSubs.map(function (sub) { return sub.unsubscribe(); });\n    };\n    GeoCoder.prototype.requestGeocode = function (options, observer) {\n        var geocoder = new google.maps.Geocoder();\n        geocoder.geocode(options, function (results, status) {\n            if (status === google.maps.GeocoderStatus.OK) {\n                observer.next(results);\n                observer.complete();\n            }\n            else {\n                observer.error(results);\n            }\n        });\n    };\n    return GeoCoder;\n}());\nGeoCoder = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"])(),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__api_loader__[\"a\" /* NgMapApiLoader */]])\n], GeoCoder);\n\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return NavigatorGeolocation; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__);\n\n\n\n/**\n *  service for navigator.geolocation methods\n */\nvar NavigatorGeolocation = (function () {\n    function NavigatorGeolocation() {\n    }\n    NavigatorGeolocation.prototype.getCurrentPosition = function (geoLocationOptions) {\n        geoLocationOptions = geoLocationOptions || { timeout: 5000 };\n        return new __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__[\"Observable\"](function (responseObserver) {\n            if (navigator.geolocation) {\n                navigator.geolocation.getCurrentPosition(function (position) {\n                    responseObserver.next(position);\n                    responseObserver.complete();\n                }, function (evt) { return responseObserver.error(evt); }, geoLocationOptions);\n            }\n            else {\n                responseObserver.error('Browser Geolocation service failed.');\n            }\n        });\n    };\n    ;\n    return NavigatorGeolocation;\n}());\nNavigatorGeolocation = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"])()\n], NavigatorGeolocation);\n\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return NG_MAP_CONFIG_TOKEN; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__);\n\nvar NG_MAP_CONFIG_TOKEN = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"OpaqueToken\"]('NG_MAP_CONFIG_TOKEN');\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export jsonize */\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = getJSON;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = toCamelCase;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = isMapsApiLoaded;\n/**\n * return json string from json-like string\n */\n/**\n * return json string from json-like string\n */ function jsonize(str) {\n    try {\n        JSON.parse(str);\n        return str;\n    }\n    catch (e) {\n        return str\n            .replace(/([\\$\\w]+)\\s*:/g, // wrap keys without double quote\n        function (_, $1) {\n            return '\"' + $1 + '\":';\n        })\n            .replace(/'([^']+)'/g, // replacing single quote to double quote\n        function (_, $1) {\n            return '\"' + $1 + '\"';\n        });\n    }\n}\n;\n/**\n * Returns string to an object by using JSON.parse()\n */\nfunction getJSON(input) {\n    if (typeof input === 'string') {\n        var re = /^[\\+\\-]?[0-9\\.]+,[ ]*\\ ?[\\+\\-]?[0-9\\.]+$/; // lat,lng\n        if (input.match(re)) {\n            input = '[' + input + ']';\n        }\n        return JSON.parse(jsonize(input));\n    }\n    else {\n        return input;\n    }\n}\n;\n/* tslint:enable */\n/**\n * Returns camel-cased from string 'Foo Bar' to 'fooBar'\n */\nfunction toCamelCase(str) {\n    return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (letter, index) {\n        return index === 0 ? letter.toLowerCase() : letter.toUpperCase();\n    }).replace(/\\s+/g, '');\n}\nfunction isMapsApiLoaded() {\n    return typeof google === 'object' && typeof google.maps === 'object';\n}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CustomMarker; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_operator_debounceTime__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_operator_debounceTime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_ngui_map__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ngui_map_component__ = __webpack_require__(2);\n\n\n\n\n\n\nvar INPUTS = [\n    'position'\n];\n// to avoid DOM event conflicts map_*\nvar OUTPUTS = [\n    'animationChanged', 'click', 'clickableChanged', 'cursorChanged', 'dblclick', 'drag', 'dragend', 'draggableChanged',\n    'dragstart', 'flatChanged', 'iconChanged', 'mousedown', 'mouseout', 'mouseover', 'mouseup', 'positionChanged', 'rightclick',\n    'shapeChanged', 'titleChanged', 'visibleChanged', 'zindexChanged',\n    'map_click', 'map_mouseover', 'map_mouseout', 'map_mouseup', 'map_mousedown', 'map_drag', 'map_dragend'\n];\n/**\n * Wrapper to a create extend OverlayView at runtime, only after google maps is loaded.\n * Otherwise throws a google is unknown error.\n */\nfunction getCustomMarkerOverlayView(htmlEl, position) {\n    var CustomMarkerOverlayView = (function (_super) {\n        __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](CustomMarkerOverlayView, _super);\n        function CustomMarkerOverlayView(htmlEl, position) {\n            var _this = _super.call(this) || this;\n            _this.visible = true;\n            _this.setPosition = function (position) {\n                _this.htmlEl.style.visibility = 'hidden';\n                if (position.constructor.name === 'Array') {\n                    _this.position = new google.maps.LatLng(position[0], position[1]);\n                }\n                else if (typeof position === 'string') {\n                    var geocoder = new google.maps.Geocoder();\n                    geocoder.geocode({ address: position }, function (results, status) {\n                        if (status === google.maps.GeocoderStatus.OK) {\n                            console.log('setting custom marker position from address', position);\n                            _this.setPosition(results[0].geometry.location);\n                        }\n                        else {\n                            console.log('Error in custom marker geo coding, position');\n                        }\n                    });\n                }\n                else if (position && typeof position.lng === 'function') {\n                    _this.position = position;\n                }\n                if (_this.getProjection() && typeof _this.position.lng === 'function') {\n                    var positionOnMap_1 = function () {\n                        var posPixel = _this.getProjection().fromLatLngToDivPixel(_this.position);\n                        var x = Math.round(posPixel.x - (_this.htmlEl.offsetWidth / 2));\n                        var y = Math.round(posPixel.y - _this.htmlEl.offsetHeight / 2);\n                        _this.htmlEl.style.left = x + 'px';\n                        _this.htmlEl.style.top = y + 'px';\n                        _this.htmlEl.style.visibility = 'visible';\n                    };\n                    if (_this.htmlEl.offsetWidth && _this.htmlEl.offsetHeight) {\n                        positionOnMap_1();\n                    }\n                    else {\n                        setTimeout(function () { return positionOnMap_1(); });\n                    }\n                }\n            };\n            _this.htmlEl = htmlEl;\n            _this.position = position;\n            return _this;\n        }\n        CustomMarkerOverlayView.prototype.onAdd = function () {\n            this.getPanes().overlayMouseTarget.appendChild(this.htmlEl);\n            // required for correct display inside google maps container\n            this.htmlEl.style.position = 'absolute';\n        };\n        CustomMarkerOverlayView.prototype.draw = function () {\n            this.setPosition(this.position);\n            this.setZIndex(this.zIndex);\n            this.setVisible(this.visible);\n        };\n        CustomMarkerOverlayView.prototype.onRemove = function () {\n            //\n        };\n        CustomMarkerOverlayView.prototype.getPosition = function () {\n            return this.position;\n        };\n        ;\n        CustomMarkerOverlayView.prototype.setZIndex = function (zIndex) {\n            zIndex && (this.zIndex = zIndex); /* jshint ignore:line */\n            this.htmlEl.style.zIndex = this.zIndex;\n        };\n        CustomMarkerOverlayView.prototype.setVisible = function (visible) {\n            this.htmlEl.style.display = visible ? 'inline-block' : 'none';\n            this.visible = visible;\n        };\n        ;\n        return CustomMarkerOverlayView;\n    }(google.maps.OverlayView));\n    return new CustomMarkerOverlayView(htmlEl, position);\n}\nvar CustomMarker = (function () {\n    function CustomMarker(nguiMapComponent, elementRef, nguiMap) {\n        var _this = this;\n        this.nguiMapComponent = nguiMapComponent;\n        this.elementRef = elementRef;\n        this.nguiMap = nguiMap;\n        this.initialized$ = new __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"]();\n        this.inputChanges$ = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__[\"Subject\"]();\n        this.elementRef.nativeElement.style.display = 'none';\n        OUTPUTS.forEach(function (output) { return _this[output] = new __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"](); });\n    }\n    // Initialize this map object when map is ready\n    CustomMarker.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.nguiMapComponent.mapIdledOnce) {\n            this.initialize();\n        }\n        else {\n            this.nguiMapComponent.mapReady$.subscribe(function (map) { return _this.initialize(); });\n        }\n    };\n    CustomMarker.prototype.ngOnChanges = function (changes) {\n        this.inputChanges$.next(changes);\n    };\n    CustomMarker.prototype.ngOnDestroy = function () {\n        this.inputChanges$.complete();\n        this.nguiMapComponent.removeFromMapObjectGroup('CustomMarker', this.mapObject);\n        if (this.mapObject) {\n            this.nguiMap.clearObjectEvents(OUTPUTS, this, 'mapObject');\n        }\n    };\n    CustomMarker.prototype.initialize = function () {\n        var _this = this;\n        console.log('custom-marker is being initialized');\n        this.el = this.elementRef.nativeElement;\n        this.mapObject = getCustomMarkerOverlayView(this.el, this['position']);\n        this.mapObject.setMap(this.nguiMapComponent.map);\n        // set google events listeners and emits to this outputs listeners\n        this.nguiMap.setObjectEvents(OUTPUTS, this, 'mapObject');\n        // update object when input changes\n        __WEBPACK_IMPORTED_MODULE_3_rxjs_operator_debounceTime__[\"debounceTime\"].call(this.inputChanges$, 1000)\n            .subscribe(function (changes) { return _this.nguiMap.updateGoogleObject(_this.mapObject, changes); });\n        this.nguiMapComponent.addToMapObjectGroup('CustomMarker', this.mapObject);\n        this.initialized$.emit(this.mapObject);\n    };\n    return CustomMarker;\n}());\n__WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Output\"])(),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:type\", __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"])\n], CustomMarker.prototype, \"initialized$\", void 0);\nCustomMarker = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Component\"])({\n        selector: 'ngui-map > custom-marker',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n        template: \"\\n    <ng-content></ng-content>\\n  \",\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_5__ngui_map_component__[\"a\" /* NguiMapComponent */],\n        __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"ElementRef\"],\n        __WEBPACK_IMPORTED_MODULE_4__services_ngui_map__[\"a\" /* NguiMap */]])\n], CustomMarker);\n\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return InfoWindow; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_operator_debounceTime__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_operator_debounceTime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_ngui_map__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ngui_map_component__ = __webpack_require__(2);\n\n\n\n\n\n\nvar INPUTS = [\n    'content', 'disableAutoPan', 'maxWidth', 'pixelOffset', 'position', 'zIndex', 'options'\n];\nvar OUTPUTS = [\n    'closeclick', 'content_changed', 'domready', 'position_changed', 'zindex_changed'\n];\nvar InfoWindow = (function () {\n    function InfoWindow(elementRef, nguiMap, nguiMapComponent) {\n        var _this = this;\n        this.elementRef = elementRef;\n        this.nguiMap = nguiMap;\n        this.nguiMapComponent = nguiMapComponent;\n        this.initialized$ = new __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"]();\n        this.objectOptions = {};\n        this.inputChanges$ = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__[\"Subject\"]();\n        this.elementRef.nativeElement.style.display = 'none';\n        OUTPUTS.forEach(function (output) { return _this[output] = new __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"](); });\n    }\n    // Initialize this map object when map is ready\n    InfoWindow.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.nguiMapComponent.mapIdledOnce) {\n            this.initialize();\n        }\n        else {\n            this.nguiMapComponent.mapReady$.subscribe(function (map) { return _this.initialize(); });\n        }\n    };\n    InfoWindow.prototype.ngOnChanges = function (changes) {\n        this.inputChanges$.next(changes);\n    };\n    // called when map is ready\n    InfoWindow.prototype.initialize = function () {\n        var _this = this;\n        console.log('infowindow is being initialized');\n        this.objectOptions = this.nguiMapComponent.optionBuilder.googlizeAllInputs(INPUTS, this);\n        this.infoWindow = new google.maps.InfoWindow(this.objectOptions);\n        this.infoWindow['mapObjectName'] = 'InfoWindow';\n        console.log('INFOWINDOW objectOptions', this.objectOptions);\n        // register infoWindow ids to NguiMap, so that it can be opened by id\n        if (this.elementRef.nativeElement.id) {\n            this.nguiMapComponent.infoWindows[this.elementRef.nativeElement.id] = this;\n        }\n        else {\n            console.error('An InfoWindow must have an id. e.g. id=\"detail\"');\n        }\n        // set google events listeners and emits to this outputs listeners\n        this.nguiMap.setObjectEvents(OUTPUTS, this, 'infoWindow');\n        // update object when input changes\n        __WEBPACK_IMPORTED_MODULE_3_rxjs_operator_debounceTime__[\"debounceTime\"].call(this.inputChanges$, 1000)\n            .subscribe(function (changes) { return _this.nguiMap.updateGoogleObject(_this.infoWindow, changes); });\n        this.nguiMapComponent.addToMapObjectGroup('InfoWindow', this.infoWindow);\n        this.initialized$.emit(this.infoWindow);\n    };\n    InfoWindow.prototype.open = function (anchor) {\n        // set content and open it\n        this.infoWindow.setContent(this.template.element.nativeElement);\n        this.infoWindow.open(this.nguiMapComponent.map, anchor);\n    };\n    InfoWindow.prototype.close = function () {\n        // check if infoWindow exists, and closes it\n        if (this.infoWindow)\n            this.infoWindow.close();\n    };\n    InfoWindow.prototype.ngOnDestroy = function () {\n        this.inputChanges$.complete();\n        if (this.infoWindow) {\n            this.nguiMap.clearObjectEvents(OUTPUTS, this, 'infoWindow');\n            delete this.infoWindow;\n        }\n    };\n    return InfoWindow;\n}());\n__WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Output\"])(),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:type\", __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"])\n], InfoWindow.prototype, \"initialized$\", void 0);\n__WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"ViewChild\"])('template', { read: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"ViewContainerRef\"] }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:type\", __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"ViewContainerRef\"])\n], InfoWindow.prototype, \"template\", void 0);\nInfoWindow = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Component\"])({\n        selector: 'ngui-map > info-window',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n        template: \"<div #template><ng-content></ng-content></div>\",\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"ElementRef\"],\n        __WEBPACK_IMPORTED_MODULE_4__services_ngui_map__[\"a\" /* NguiMap */],\n        __WEBPACK_IMPORTED_MODULE_5__ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], InfoWindow);\n\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return BicyclingLayer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = [];\nvar OUTPUTS = [];\nvar BicyclingLayer = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](BicyclingLayer, _super);\n    function BicyclingLayer(nguiMapComp) {\n        return _super.call(this, nguiMapComp, 'BicyclingLayer', INPUTS, OUTPUTS) || this;\n    }\n    return BicyclingLayer;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nBicyclingLayer = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map > bicycling-layer',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], BicyclingLayer);\n\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Circle; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = [\n    'center', 'clickable', 'draggable', 'editable', 'fillColor', 'fillOpacity', 'map', 'radius',\n    'strokeColor', 'strokeOpacity', 'strokePosition', 'strokeWeight', 'visible', 'zIndex', 'options',\n    // ngui-map specific inputs\n    'geoFallbackCenter'\n];\nvar OUTPUTS = [\n    'centerChanged', 'click', 'dblclick', 'drag', 'dragend', 'dragstart',\n    'mousedown', 'mousemove', 'mouseout', 'mouseover', 'mouseup', 'radiusChanged', 'rightclick',\n];\nvar Circle = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](Circle, _super);\n    function Circle(nguiMapComp) {\n        var _this = _super.call(this, nguiMapComp, 'Circle', INPUTS, OUTPUTS) || this;\n        _this.nguiMapComp = nguiMapComp;\n        _this.objectOptions = {};\n        return _this;\n    }\n    Circle.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        this.setCenter();\n    };\n    Circle.prototype.setCenter = function () {\n        var _this = this;\n        if (!this['center']) {\n            this._subscriptions.push(this.nguiMapComp.geolocation.getCurrentPosition().subscribe(function (center) {\n                console.log('setting circle center from current location');\n                var latLng = new google.maps.LatLng(center.coords.latitude, center.coords.longitude);\n                _this.mapObject.setCenter(latLng);\n            }, function (error) {\n                console.error('ngui-map, error in finding the current position');\n                _this.mapObject.setCenter(_this.objectOptions['geoFallbackCenter'] || new google.maps.LatLng(0, 0));\n            }));\n        }\n        else if (typeof this['center'] === 'string') {\n            this._subscriptions.push(this.nguiMapComp.geoCoder.geocode({ address: this['center'] }).subscribe(function (results) {\n                console.log('setting circle center from address', _this['center']);\n                _this.mapObject.setCenter(results[0].geometry.location);\n            }, function (error) {\n                console.error('ngui-map, error in finding location from', _this['center']);\n                _this.mapObject.setCenter(_this.objectOptions['geoFallbackCenter'] || new google.maps.LatLng(0, 0));\n            }));\n        }\n    };\n    return Circle;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nCircle = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map>circle, ngui-map>map-circle',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], Circle);\n\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DataLayer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = ['controlPosition', 'controls', 'drawingMode', 'featureFactory', 'style', 'geoJson'];\nvar OUTPUTS = [\n    'addfeature', 'click', 'dblclick', 'mousedown', 'mouseout', 'mouseover',\n    'mouseup', 'removefeature', 'removeproperty', 'rightclick', 'setgeometry', 'setproperty'\n];\nvar DataLayer = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](DataLayer, _super);\n    function DataLayer(nguiMapComponent) {\n        return _super.call(this, nguiMapComponent, 'Data', INPUTS, OUTPUTS) || this;\n    }\n    // only called when map is ready\n    DataLayer.prototype.initialize = function () {\n        if (this['geoJson']) {\n            // addGeoJson from an object\n            console.log('this.geoJson', this['geoJson']);\n            this.nguiMapComponent.map.data.addGeoJson(this['geoJson']);\n        }\n        else if (this['geoJsonUrl']) {\n            // loadGeoJson from a URL\n            console.log('this.geoJsonUrl', this['geoJsonUrl']);\n            this.nguiMapComponent.map.data.loadGeoJson(this['geoJsonUrl']);\n        }\n        else {\n            this.objectOptions = this.optionBuilder.googlizeAllInputs(this.inputs, this);\n            console.log(this.mapObjectName, 'initialization objectOptions', this.objectOptions);\n            this.nguiMapComponent.map.data.add(this.objectOptions);\n        }\n        // unlike others, data belongs to map. e.g., map.data.loadGeoJson(), map.data.add()\n        this.mapObject = this.nguiMapComponent.map.data;\n        // set google events listeners and emits to this outputs listeners\n        this.nguiMap.setObjectEvents(this.outputs, this, 'mapObject');\n        this.nguiMapComponent.addToMapObjectGroup(this.mapObjectName, this.mapObject);\n        this.initialized$.emit(this.mapObject);\n    };\n    return DataLayer;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nDataLayer = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map > data-layer',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], DataLayer);\n\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DirectionsRenderer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_navigator_geolocation__ = __webpack_require__(8);\n\n\n\n\n\nvar INPUTS = [\n    'directions', 'draggable', 'hideRouteList', 'infoWindow', 'panel', 'markerOptions',\n    'polylineOptions', 'preserveViewport', 'routeIndex', 'suppressBicyclingLayer',\n    'suppressInfoWindows', 'suppressMarkers', 'suppressPolylines'\n];\nvar OUTPUTS = ['directions_changed'];\nvar DirectionsRenderer = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](DirectionsRenderer, _super);\n    function DirectionsRenderer(nguiMapComponent, geolocation) {\n        var _this = _super.call(this, nguiMapComponent, 'DirectionsRenderer', INPUTS, OUTPUTS) || this;\n        _this.geolocation = geolocation;\n        return _this;\n    }\n    // only called when map is ready\n    DirectionsRenderer.prototype.initialize = function () {\n        this.objectOptions = this.optionBuilder.googlizeAllInputs(this.inputs, this);\n        if (typeof this.objectOptions['panel'] === 'string') {\n            this.objectOptions['panel'] = document.querySelector(this.objectOptions['panel']);\n        }\n        console.log('DirectionsRenderer', 'initialization options', this.objectOptions, this.directionsRequest);\n        this.directionsService = new google.maps.DirectionsService();\n        this.directionsRenderer = new google.maps.DirectionsRenderer(this.objectOptions);\n        this.directionsRenderer.setMap(this.nguiMapComponent.map);\n        // set google events listeners and emidirectionsRenderer to this outputs listeners\n        this.showDirections(this.directionsRequest);\n        this.nguiMap.setObjectEvents(this.outputs, this, 'directionsRenderer');\n        this.nguiMapComponent.addToMapObjectGroup(this.mapObjectName, this.mapObject);\n        this.initialized$.emit(this.directionsRenderer);\n    };\n    DirectionsRenderer.prototype.ngOnChanges = function (changes) {\n        var newOptions = {};\n        for (var key in changes) {\n            if (this.inputs.indexOf(key) !== -1) {\n                newOptions[key] = this.optionBuilder.googlize(changes[key].currentValue);\n            }\n        }\n        if (changes['directionsRequest'] && this.directionsRenderer) {\n            this.directionsService && this.showDirections(this.directionsRequest);\n        }\n    };\n    DirectionsRenderer.prototype.showDirections = function (directionsRequest) {\n        var _this = this;\n        this.directionsService.route(directionsRequest, function (response, status) {\n            if (status === google.maps.DirectionsStatus.OK) {\n                _this.directionsRenderer.setDirections(response);\n            }\n            else {\n                console.error('Directions request failed due to ' + status);\n            }\n        });\n    };\n    DirectionsRenderer.prototype.ngOnDestroy = function () {\n        _super.prototype.ngOnDestroy.call(this);\n        this.nguiMap.clearObjectEvents(this.outputs, this, 'directionsRenderer');\n    };\n    return DirectionsRenderer;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\n__WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Input\"])('directions-request'),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:type\", Object)\n], DirectionsRenderer.prototype, \"directionsRequest\", void 0);\nDirectionsRenderer = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map > directions-renderer',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */],\n        __WEBPACK_IMPORTED_MODULE_4__services_navigator_geolocation__[\"a\" /* NavigatorGeolocation */]])\n], DirectionsRenderer);\n\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DrawingManager; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = [\n    'options',\n    'circleOptions', 'drawingControl', 'drawingControlOptions', 'drawingMode',\n    'map', 'markerOptions', 'polygonOptions', 'polylineOptions', 'rectangleOptions'\n];\nvar OUTPUTS = [\n    'circlecomplete', 'markercomplete', 'overlaycomplete',\n    'polygoncomplete', 'polylinecomplete', 'rectanglecomplete'\n];\nvar DrawingManager = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](DrawingManager, _super);\n    function DrawingManager(nguiMapComp) {\n        var _this = _super.call(this, nguiMapComp, 'DrawingManager', INPUTS, OUTPUTS) || this;\n        _this.libraryName = 'drawing';\n        return _this;\n    }\n    return DrawingManager;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nDrawingManager = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map > drawing-manager',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], DrawingManager);\n\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return GroundOverlay; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = ['url', 'bounds', 'clickable', 'opacity'];\nvar OUTPUTS = ['click', 'dblclick'];\nvar GroundOverlay = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](GroundOverlay, _super);\n    function GroundOverlay(nguiMapComp) {\n        var _this = _super.call(this, nguiMapComp, 'GroundOverlay', INPUTS, OUTPUTS) || this;\n        _this.objectOptions = {};\n        return _this;\n    }\n    // re-declaring initialize function. called when map is ready\n    GroundOverlay.prototype.initialize = function () {\n        // url, bounds are not the options of GroundOverlay\n        this.objectOptions = this.optionBuilder.googlizeAllInputs(['clickable', 'opacity'], this);\n        console.log(this.mapObjectName, 'initialization objectOptions', this.objectOptions);\n        // noinspection TypeScriptUnresolvedFunction\n        this.mapObject = new google.maps.GroundOverlay(this['url'], this['bounds'], this.objectOptions);\n        this.mapObject.setMap(this.nguiMapComponent.map);\n        this.mapObject['mapObjectName'] = this.mapObjectName;\n        // set google events listeners and emits to this outputs listeners\n        this.nguiMap.setObjectEvents(this.outputs, this, 'mapObject');\n        this.nguiMapComponent.addToMapObjectGroup(this.mapObjectName, this.mapObject);\n        this.initialized$.emit(this.mapObject);\n    };\n    return GroundOverlay;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nGroundOverlay = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map > ground-overlay',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], GroundOverlay);\n\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return HeatmapLayer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = ['data', 'dissipating', 'gradient', 'maxIntensity', 'opacity', 'radius', 'options'];\nvar OUTPUTS = [];\nvar HeatmapLayer = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](HeatmapLayer, _super);\n    function HeatmapLayer(nguiMapComp) {\n        var _this = _super.call(this, nguiMapComp, 'HeatmapLayer', INPUTS, OUTPUTS) || this;\n        _this.libraryName = 'visualization';\n        return _this;\n    }\n    return HeatmapLayer;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nHeatmapLayer = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map > heatmap-layer',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], HeatmapLayer);\n\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return KmlLayer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = ['clickable', 'preserveViewport', 'screenOverlays', 'suppressInfoWindows', 'url', 'zIndex', 'options'];\nvar OUTPUTS = ['click', 'defaultviewport_changed', 'status_changed'];\nvar KmlLayer = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](KmlLayer, _super);\n    function KmlLayer(nguiMapComp) {\n        return _super.call(this, nguiMapComp, 'KmlLayer', INPUTS, OUTPUTS) || this;\n    }\n    return KmlLayer;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nKmlLayer = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map > kml-layer',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], KmlLayer);\n\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Marker; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = [\n    'anchorPoint', 'animation', 'clickable', 'cursor', 'draggable', 'icon', 'label', 'opacity',\n    'optimized', 'place', 'position', 'shape', 'title', 'visible', 'zIndex', 'options',\n    // ngui-map specific inputs\n    'geoFallbackPosition'\n];\nvar OUTPUTS = [\n    'animationChanged', 'click', 'clickableChanged', 'cursorChanged', 'dblclick', 'drag', 'dragend', 'draggableChanged',\n    'dragstart', 'flatChanged', 'iconChanged', 'mousedown', 'mouseout', 'mouseover', 'mouseup', 'positionChanged', 'rightclick',\n    'shapeChanged', 'titleChanged', 'visibleChanged', 'zindexChanged'\n];\nvar Marker = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](Marker, _super);\n    function Marker(nguiMapComp) {\n        var _this = _super.call(this, nguiMapComp, 'Marker', INPUTS, OUTPUTS) || this;\n        _this.nguiMapComp = nguiMapComp;\n        _this.objectOptions = {};\n        console.log('marker constructor', 9999999);\n        return _this;\n    }\n    // Initialize this map object when map is ready\n    Marker.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.nguiMapComponent.mapIdledOnce) {\n            this.initialize();\n        }\n        else {\n            this.nguiMapComponent.mapReady$.subscribe(function (map) { return _this.initialize(); });\n        }\n    };\n    Marker.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        this.setPosition();\n    };\n    Marker.prototype.setPosition = function () {\n        var _this = this;\n        if (!this['position']) {\n            this._subscriptions.push(this.nguiMapComp.geolocation.getCurrentPosition().subscribe(function (position) {\n                console.log('setting marker position from current location');\n                var latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n                _this.mapObject.setPosition(latLng);\n            }, function (error) {\n                console.error('ngui-map, error finding the current location');\n                _this.mapObject.setPosition(_this.objectOptions['geoFallbackPosition'] || new google.maps.LatLng(0, 0));\n            }));\n        }\n        else if (typeof this['position'] === 'string') {\n            this._subscriptions.push(this.nguiMapComp.geoCoder.geocode({ address: this['position'] }).subscribe(function (results) {\n                console.log('setting marker position from address', _this['position']);\n                _this.mapObject.setPosition(results[0].geometry.location);\n            }, function (error) {\n                console.error('ngui-map, error finding the location from', _this['position']);\n                _this.mapObject.setPosition(_this.objectOptions['geoFallbackPosition'] || new google.maps.LatLng(0, 0));\n            }));\n        }\n    };\n    return Marker;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nMarker = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map > marker',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], Marker);\n\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PlacesAutoComplete; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_api_loader__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_option_builder__ = __webpack_require__(6);\n\n\n\n\nvar PlacesAutoComplete = (function () {\n    function PlacesAutoComplete(optionBuilder, elementRef, apiLoader) {\n        var _this = this;\n        this.optionBuilder = optionBuilder;\n        this.elementRef = elementRef;\n        this.apiLoader = apiLoader;\n        this.place_changed = new __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"]();\n        this.initialized$ = new __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"]();\n        // only called when map is ready\n        this.initialize = function () {\n            _this.objectOptions =\n                _this.optionBuilder.googlizeAllInputs(['bounds', 'componentRestrictions', 'types'], _this);\n            console.log('places autocomplete options', _this.objectOptions);\n            _this.autocomplete = new google.maps.places.Autocomplete(_this.elementRef.nativeElement, _this.objectOptions);\n            console.log('this.autocomplete', _this.autocomplete);\n            _this.autocomplete.addListener('place_changed', function (place) {\n                _this.place_changed.emit(_this.autocomplete.getPlace());\n            });\n            _this.initialized$.emit(_this.autocomplete);\n        };\n        apiLoader.load();\n        apiLoader.api$.subscribe(function () { return _this.initialize(); });\n    }\n    return PlacesAutoComplete;\n}());\n__WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Input\"])('bounds'),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:type\", Object)\n], PlacesAutoComplete.prototype, \"bounds\", void 0);\n__WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Input\"])('componentRestrictions'),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:type\", Object)\n], PlacesAutoComplete.prototype, \"componentRestrictions\", void 0);\n__WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Input\"])('types'),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:type\", Array)\n], PlacesAutoComplete.prototype, \"types\", void 0);\n__WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Output\"])('place_changed'),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:type\", __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"])\n], PlacesAutoComplete.prototype, \"place_changed\", void 0);\n__WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Output\"])(),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:type\", __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"EventEmitter\"])\n], PlacesAutoComplete.prototype, \"initialized$\", void 0);\nPlacesAutoComplete = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: '[places-auto-complete]'\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__services_option_builder__[\"a\" /* OptionBuilder */],\n        __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"ElementRef\"],\n        __WEBPACK_IMPORTED_MODULE_2__services_api_loader__[\"a\" /* NgMapApiLoader */]])\n], PlacesAutoComplete);\n\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Polygon; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = [\n    'clickable', 'draggable', 'editable', 'fillColor', 'fillOpacity', 'geodesic', 'paths',\n    'strokeColor', 'strokeOpacity', 'strokePosition', 'strokeWeight', 'visible', 'zIndex', 'options',\n];\nvar OUTPUTS = [\n    'click', 'dblclick', 'drag', 'dragend', 'dragstart', 'mousedown',\n    'mousemove', 'mouseout', 'mouseover', 'mouseup', 'rightclick',\n];\nvar Polygon = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](Polygon, _super);\n    function Polygon(nguiMapComp) {\n        return _super.call(this, nguiMapComp, 'Polygon', INPUTS, OUTPUTS) || this;\n    }\n    return Polygon;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nPolygon = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map>polygon, ngui-map>map-polygon',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], Polygon);\n\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Polyline; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = [\n    'clickable', 'draggable', 'editable', 'geodesic', 'icons', 'path', 'strokeColor',\n    'strokeOpacity', 'strokeWeight', 'visible', 'zIndex', 'options'\n];\nvar OUTPUTS = [\n    'click', 'dblclick', 'drag', 'dragend', 'dragstart', 'mousedown',\n    'mousemove', 'mouseout', 'mouseover', 'mouseup', 'rightclick'\n];\nvar Polyline = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](Polyline, _super);\n    function Polyline(nguiMapComp) {\n        return _super.call(this, nguiMapComp, 'Polyline', INPUTS, OUTPUTS) || this;\n    }\n    return Polyline;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nPolyline = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map > polyline',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], Polyline);\n\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return StreetViewPanorama; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = [\n    'selector', 'options',\n    'addressControl', 'addressControlOptions', 'clickToGo', 'disableDefaultUI', 'disableDoubleClickZoom',\n    'enableCloseButton', 'fullscreenControl', 'fullscreenControlOptions', 'imageDateControl', 'linksControl',\n    'motionTracking', 'motionTrackingControl', 'panControl', 'panControlOptions', 'pano',\n    'position', 'pov', 'scrollwheel', 'showRoadLabels', 'visible', 'zoomControl', 'zoomControlOptions'\n];\nvar OUTPUTS = [\n    'closeclick', 'pano_changed', 'position_changed', 'pov_changed', 'resize', 'status_changed',\n    'visible_changed', 'zoom_changed'\n];\nvar StreetViewPanorama = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](StreetViewPanorama, _super);\n    function StreetViewPanorama(nguiMapComp) {\n        return _super.call(this, nguiMapComp, 'StreetViewPanorama', INPUTS, OUTPUTS) || this;\n    }\n    // only called when map is ready\n    StreetViewPanorama.prototype.initialize = function () {\n        this.objectOptions = this.optionBuilder.googlizeAllInputs(this.inputs, this);\n        console.log(this.mapObjectName, 'initialization objectOptions', this.objectOptions);\n        var element;\n        if (this.objectOptions.selector) {\n            // noinspection TypeScriptValidateTypes\n            element = document.querySelector(this['selector']);\n            delete this.objectOptions.selector;\n        }\n        else {\n            element = this.nguiMapComponent.el;\n        }\n        // will be set after geocoded\n        typeof this.objectOptions.position === 'string' && (delete this.objectOptions.position);\n        this.mapObject = new google.maps[this.mapObjectName](element, this.objectOptions);\n        this.mapObject['mapObjectName'] = this.mapObjectName;\n        this.mapObject['nguiMapComponent'] = this.nguiMapComponent;\n        // set google events listeners and emits to this outputs listeners\n        this.nguiMap.setObjectEvents(this.outputs, this, 'mapObject');\n        this.nguiMapComponent.addToMapObjectGroup(this.mapObjectName, this.mapObject);\n        this.initialized$.emit(this.mapObject);\n    };\n    // When destroyed, remove event listener, and delete this object to prevent memory leak\n    StreetViewPanorama.prototype.ngOnDestroy = function () {\n        if (this.nguiMapComponent.el) {\n            this.nguiMap.clearObjectEvents(this.outputs, this, 'mapObject');\n        }\n    };\n    return StreetViewPanorama;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nStreetViewPanorama = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map > street-view-panorama',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], StreetViewPanorama);\n\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TrafficLayer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = ['autoRefresh', 'options'];\nvar OUTPUTS = [];\nvar TrafficLayer = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](TrafficLayer, _super);\n    function TrafficLayer(nguiMapComp) {\n        return _super.call(this, nguiMapComp, 'TrafficLayer', INPUTS, OUTPUTS) || this;\n    }\n    return TrafficLayer;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nTrafficLayer = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map > traffic-layer',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], TrafficLayer);\n\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TransitLayer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__base_map_directive__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__ = __webpack_require__(2);\n\n\n\n\nvar INPUTS = [];\nvar OUTPUTS = [];\nvar TransitLayer = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __extends */](TransitLayer, _super);\n    function TransitLayer(nguiMapComp) {\n        return _super.call(this, nguiMapComp, 'TransitLayer', INPUTS, OUTPUTS) || this;\n    }\n    return TransitLayer;\n}(__WEBPACK_IMPORTED_MODULE_2__base_map_directive__[\"a\" /* BaseMapDirective */]));\nTransitLayer = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Directive\"])({\n        selector: 'ngui-map > transit-layer',\n        inputs: INPUTS,\n        outputs: OUTPUTS,\n    }),\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_3__components_ngui_map_component__[\"a\" /* NguiMapComponent */]])\n], TransitLayer);\n\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_30__;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return NguiMapModule; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__angular_common__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_option_builder__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_geo_coder__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_navigator_geolocation__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_config__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_api_loader__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_ngui_map_component__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__components_info_window__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_custom_marker__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__directives_bicycling_layer__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__directives_circle__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__directives_data_layer__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__directives_directions_renderer__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__directives_drawing_manager__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__directives_ground_overlay__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__directives_heatmap_layer__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__directives_kml_layer__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__directives_marker__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__services_ngui_map__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__directives_places_auto_complete__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__directives_polygon__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__directives_polyline__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__directives_street_view_panorama__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__directives_traffic_layer__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__directives_transit_layer__ = __webpack_require__(29);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar COMPONENTS_DIRECTIVES = [\n    __WEBPACK_IMPORTED_MODULE_8__components_ngui_map_component__[\"a\" /* NguiMapComponent */], __WEBPACK_IMPORTED_MODULE_9__components_info_window__[\"a\" /* InfoWindow */],\n    __WEBPACK_IMPORTED_MODULE_19__directives_marker__[\"a\" /* Marker */], __WEBPACK_IMPORTED_MODULE_12__directives_circle__[\"a\" /* Circle */], __WEBPACK_IMPORTED_MODULE_10__components_custom_marker__[\"a\" /* CustomMarker */], __WEBPACK_IMPORTED_MODULE_22__directives_polygon__[\"a\" /* Polygon */], __WEBPACK_IMPORTED_MODULE_9__components_info_window__[\"a\" /* InfoWindow */], __WEBPACK_IMPORTED_MODULE_23__directives_polyline__[\"a\" /* Polyline */], __WEBPACK_IMPORTED_MODULE_16__directives_ground_overlay__[\"a\" /* GroundOverlay */],\n    __WEBPACK_IMPORTED_MODULE_26__directives_transit_layer__[\"a\" /* TransitLayer */], __WEBPACK_IMPORTED_MODULE_25__directives_traffic_layer__[\"a\" /* TrafficLayer */], __WEBPACK_IMPORTED_MODULE_17__directives_heatmap_layer__[\"a\" /* HeatmapLayer */], __WEBPACK_IMPORTED_MODULE_11__directives_bicycling_layer__[\"a\" /* BicyclingLayer */], __WEBPACK_IMPORTED_MODULE_18__directives_kml_layer__[\"a\" /* KmlLayer */], __WEBPACK_IMPORTED_MODULE_13__directives_data_layer__[\"a\" /* DataLayer */],\n    __WEBPACK_IMPORTED_MODULE_24__directives_street_view_panorama__[\"a\" /* StreetViewPanorama */], __WEBPACK_IMPORTED_MODULE_21__directives_places_auto_complete__[\"a\" /* PlacesAutoComplete */], __WEBPACK_IMPORTED_MODULE_14__directives_directions_renderer__[\"a\" /* DirectionsRenderer */],\n    __WEBPACK_IMPORTED_MODULE_15__directives_drawing_manager__[\"a\" /* DrawingManager */],\n];\nvar NguiMapModule = NguiMapModule_1 = (function () {\n    function NguiMapModule() {\n    }\n    NguiMapModule.forRoot = function (config) {\n        if (config === void 0) { config = {}; }\n        return {\n            ngModule: NguiMapModule_1,\n            providers: [\n                { provide: __WEBPACK_IMPORTED_MODULE_6__services_config__[\"a\" /* NG_MAP_CONFIG_TOKEN */], useValue: config }\n            ],\n        };\n    };\n    return NguiMapModule;\n}());\nNguiMapModule = NguiMapModule_1 = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"NgModule\"])({\n        imports: [__WEBPACK_IMPORTED_MODULE_2__angular_common__[\"CommonModule\"]],\n        declarations: COMPONENTS_DIRECTIVES,\n        exports: [COMPONENTS_DIRECTIVES],\n        providers: [\n            __WEBPACK_IMPORTED_MODULE_4__services_geo_coder__[\"a\" /* GeoCoder */],\n            __WEBPACK_IMPORTED_MODULE_5__services_navigator_geolocation__[\"a\" /* NavigatorGeolocation */],\n            __WEBPACK_IMPORTED_MODULE_20__services_ngui_map__[\"a\" /* NguiMap */],\n            __WEBPACK_IMPORTED_MODULE_3__services_option_builder__[\"a\" /* OptionBuilder */],\n            { provide: __WEBPACK_IMPORTED_MODULE_7__services_api_loader__[\"a\" /* NgMapApiLoader */], useClass: __WEBPACK_IMPORTED_MODULE_7__services_api_loader__[\"c\" /* NgMapAsyncCallbackApiLoader */] },\n        ]\n    })\n], NguiMapModule);\n\nvar NguiMapModule_1;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__directives_bicycling_layer__ = __webpack_require__(15);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"BicyclingLayer\", function() { return __WEBPACK_IMPORTED_MODULE_0__directives_bicycling_layer__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_navigator_geolocation__ = __webpack_require__(8);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"NavigatorGeolocation\", function() { return __WEBPACK_IMPORTED_MODULE_1__services_navigator_geolocation__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_option_builder__ = __webpack_require__(6);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"OptionBuilder\", function() { return __WEBPACK_IMPORTED_MODULE_2__services_option_builder__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_config__ = __webpack_require__(9);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"NG_MAP_CONFIG_TOKEN\", function() { return __WEBPACK_IMPORTED_MODULE_3__services_config__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_api_loader__ = __webpack_require__(4);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"NgMapApiLoader\", function() { return __WEBPACK_IMPORTED_MODULE_4__services_api_loader__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"NgMapAsyncApiLoader\", function() { return __WEBPACK_IMPORTED_MODULE_4__services_api_loader__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"NgMapAsyncCallbackApiLoader\", function() { return __WEBPACK_IMPORTED_MODULE_4__services_api_loader__[\"c\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_ngui_map_component__ = __webpack_require__(2);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"NguiMapComponent\", function() { return __WEBPACK_IMPORTED_MODULE_5__components_ngui_map_component__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_info_window__ = __webpack_require__(14);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"InfoWindow\", function() { return __WEBPACK_IMPORTED_MODULE_6__components_info_window__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_custom_marker__ = __webpack_require__(13);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomMarker\", function() { return __WEBPACK_IMPORTED_MODULE_7__components_custom_marker__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__directives_circle__ = __webpack_require__(16);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Circle\", function() { return __WEBPACK_IMPORTED_MODULE_8__directives_circle__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__directives_data_layer__ = __webpack_require__(17);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"DataLayer\", function() { return __WEBPACK_IMPORTED_MODULE_9__directives_data_layer__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__directives_directions_renderer__ = __webpack_require__(18);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"DirectionsRenderer\", function() { return __WEBPACK_IMPORTED_MODULE_10__directives_directions_renderer__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__directives_drawing_manager__ = __webpack_require__(19);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawingManager\", function() { return __WEBPACK_IMPORTED_MODULE_11__directives_drawing_manager__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__services_geo_coder__ = __webpack_require__(7);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"GeoCoder\", function() { return __WEBPACK_IMPORTED_MODULE_12__services_geo_coder__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__directives_ground_overlay__ = __webpack_require__(20);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"GroundOverlay\", function() { return __WEBPACK_IMPORTED_MODULE_13__directives_ground_overlay__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__directives_heatmap_layer__ = __webpack_require__(21);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"HeatmapLayer\", function() { return __WEBPACK_IMPORTED_MODULE_14__directives_heatmap_layer__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__directives_kml_layer__ = __webpack_require__(22);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"KmlLayer\", function() { return __WEBPACK_IMPORTED_MODULE_15__directives_kml_layer__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__directives_marker__ = __webpack_require__(23);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Marker\", function() { return __WEBPACK_IMPORTED_MODULE_16__directives_marker__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__services_ngui_map__ = __webpack_require__(5);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"NguiMap\", function() { return __WEBPACK_IMPORTED_MODULE_17__services_ngui_map__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__directives_places_auto_complete__ = __webpack_require__(24);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"PlacesAutoComplete\", function() { return __WEBPACK_IMPORTED_MODULE_18__directives_places_auto_complete__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__directives_polygon__ = __webpack_require__(25);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Polygon\", function() { return __WEBPACK_IMPORTED_MODULE_19__directives_polygon__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__directives_polyline__ = __webpack_require__(26);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Polyline\", function() { return __WEBPACK_IMPORTED_MODULE_20__directives_polyline__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__directives_street_view_panorama__ = __webpack_require__(27);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"StreetViewPanorama\", function() { return __WEBPACK_IMPORTED_MODULE_21__directives_street_view_panorama__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__directives_traffic_layer__ = __webpack_require__(28);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"TrafficLayer\", function() { return __WEBPACK_IMPORTED_MODULE_22__directives_traffic_layer__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__directives_transit_layer__ = __webpack_require__(29);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"TransitLayer\", function() { return __WEBPACK_IMPORTED_MODULE_23__directives_transit_layer__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__ngui_map_module__ = __webpack_require__(31);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"NguiMapModule\", function() { return __WEBPACK_IMPORTED_MODULE_24__ngui_map_module__[\"a\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_33__;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_34__;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_35__;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// map.umd.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 32);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3c369ff119dede4c4549","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/core\"\n// module id = 0\n// module chunks = 0","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tslib/tslib.es6.js\n// module id = 1\n// module chunks = 0","import {\n  Component,\n  ElementRef,\n  ViewEncapsulation,\n  EventEmitter,\n  SimpleChanges,\n  Output,\n  NgZone,\n  AfterViewInit, AfterViewChecked, OnChanges, OnDestroy\n} from '@angular/core';\n\nimport { OptionBuilder } from '../services/option-builder';\nimport { NavigatorGeolocation } from '../services/navigator-geolocation';\nimport { GeoCoder } from '../services/geo-coder';\nimport { NguiMap } from '../services/ngui-map';\nimport { NgMapApiLoader } from '../services/api-loader';\nimport { InfoWindow } from './info-window';\nimport { Subject } from 'rxjs/Subject';\nimport { debounceTime } from 'rxjs/operator/debounceTime';\nimport { toCamelCase } from '../services/util';\n\nconst INPUTS = [\n  'backgroundColor', 'center', 'disableDefaultUI', 'disableDoubleClickZoom', 'draggable', 'draggableCursor',\n  'draggingCursor', 'heading', 'keyboardShortcuts', 'mapMaker', 'mapTypeControl', 'mapTypeId', 'maxZoom', 'minZoom',\n  'noClear', 'overviewMapControl', 'panControl', 'panControlOptions', 'rotateControl', 'scaleControl', 'scrollwheel',\n  'streetView', 'styles', 'tilt', 'zoom', 'streetViewControl', 'zoomControl', 'zoomControlOptions', 'mapTypeControlOptions',\n  'overviewMapControlOptions', 'rotateControlOptions', 'scaleControlOptions', 'streetViewControlOptions', 'fullscreenControl', 'fullscreenControlOptions',\n  'options',\n  // ngui-map-specific inputs\n  'geoFallbackCenter'\n];\n\nconst OUTPUTS = [\n  'bounds_changed', 'center_changed', 'click', 'dblclick', 'drag', 'dragend', 'dragstart', 'heading_changed', 'idle',\n  'typeid_changed', 'mousemove', 'mouseout', 'mouseover', 'projection_changed', 'resize', 'rightclick',\n  'tilesloaded', 'tile_changed', 'zoom_changed',\n  // to avoid DOM event conflicts\n  'mapClick', 'mapMouseover', 'mapMouseout', 'mapMousemove', 'mapDrag', 'mapDragend', 'mapDragstart'\n];\n\n@Component({\n  selector: 'ngui-map',\n  providers: [NguiMap, OptionBuilder, GeoCoder, NavigatorGeolocation],\n  styles: [`\n    ngui-map {display: block; height: 300px;}\n    .google-map {width: 100%; height: 100%}\n  `],\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n  encapsulation: ViewEncapsulation.None,\n  template: `\n    <div class=\"google-map\"></div>\n    <ng-content></ng-content>\n  `,\n})\nexport class NguiMapComponent implements OnChanges, OnDestroy, AfterViewInit, AfterViewChecked {\n  @Output() public mapReady$: EventEmitter<any> = new EventEmitter();\n\n  public el: HTMLElement;\n  public map: google.maps.Map;\n  public mapOptions: google.maps.MapOptions = {};\n\n  public inputChanges$ = new Subject();\n\n  // map objects by group\n  public infoWindows: { [id: string]: InfoWindow } = { };\n\n  // map has been fully initialized\n  public mapIdledOnce: boolean = false;\n\n  private initializeMapAfterDisplayed = false;\n  private apiLoaderSub;\n\n  constructor(\n    public optionBuilder: OptionBuilder,\n    public elementRef: ElementRef,\n    public geolocation: NavigatorGeolocation,\n    public geoCoder: GeoCoder,\n    public nguiMap: NguiMap,\n    public apiLoader: NgMapApiLoader,\n    public zone: NgZone,\n  ) {\n    apiLoader.load();\n\n    // all outputs needs to be initialized,\n    // http://stackoverflow.com/questions/37765519/angular2-directive-cannot-read-property-subscribe-of-undefined-with-outputs\n    OUTPUTS.forEach(output => this[output] = new EventEmitter());\n  }\n\n  ngAfterViewInit() {\n    this.apiLoaderSub = this.apiLoader.api$.subscribe(() => this.initializeMap());\n  }\n\n  ngAfterViewChecked() {\n      if (this.initializeMapAfterDisplayed && this.el && this.el.offsetWidth > 0) {\n        this.initializeMap();\n      }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.inputChanges$.next(changes);\n  }\n\n  initializeMap(): void {\n    this.el = this.elementRef.nativeElement.querySelector('.google-map');\n    if (this.el && this.el.offsetWidth === 0) {\n        this.initializeMapAfterDisplayed = true;\n        return;\n    }\n\n    this.initializeMapAfterDisplayed = false;\n    this.mapOptions = this.optionBuilder.googlizeAllInputs(INPUTS, this);\n    console.log('ngui-map mapOptions', this.mapOptions);\n\n    this.mapOptions.zoom = this.mapOptions.zoom || 15;\n    typeof this.mapOptions.center === 'string' && (delete this.mapOptions.center);\n\n    this.zone.runOutsideAngular(() => {\n      this.map = new google.maps.Map(this.el, this.mapOptions);\n      this.map['mapObjectName'] = 'NguiMapComponent';\n\n      if (!this.mapOptions.center) { // if center is not given as lat/lng\n        this.setCenter();\n      }\n\n      // set google events listeners and emits to this outputs listeners\n      this.nguiMap.setObjectEvents(OUTPUTS, this, 'map');\n\n      this.map.addListener('idle', () => {\n        if (!this.mapIdledOnce) {\n          this.mapIdledOnce = true;\n          setTimeout(() => { // Why????, subsribe and emit must not be in the same cycle???\n            this.mapReady$.emit(this.map);\n          });\n        }\n      });\n\n      // update map when input changes\n      debounceTime.call(this.inputChanges$, 1000)\n        .subscribe((changes: SimpleChanges) => this.nguiMap.updateGoogleObject(this.map, changes));\n\n      if (typeof window !== 'undefined' && (<any>window)['nguiMapRef']) {\n        // expose map object for test and debugging on (<any>window)\n        (<any>window)['nguiMapRef'].map = this.map;\n      }\n    });\n  }\n\n  setCenter(): void {\n    if (!this['center']) { // center is not from user. Thus, we set the current location\n      this.geolocation.getCurrentPosition().subscribe(\n        position => {\n          console.log('setting map center from current location');\n          let latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n          this.map.setCenter(latLng);\n        },\n        error => {\n          console.error('ngui-map: Error finding the current position');\n          this.map.setCenter(this.mapOptions['geoFallbackCenter'] || new google.maps.LatLng(0, 0));\n        }\n      );\n    }\n    else if (typeof this['center'] === 'string') {\n      this.geoCoder.geocode({address: this['center']}).subscribe(\n        results => {\n          console.log('setting map center from address', this['center']);\n          this.map.setCenter(results[0].geometry.location);\n        },\n        error => {\n          this.map.setCenter(this.mapOptions['geoFallbackCenter'] || new google.maps.LatLng(0, 0));\n        });\n    }\n  }\n\n  openInfoWindow(id: string, anchor: google.maps.MVCObject) {\n    this.infoWindows[id].open(anchor);\n  }\n\n  closeInfoWindow(id: string) {\n    // if infoWindow for id exists, close the infoWindow\n    if (this.infoWindows[id])\n      this.infoWindows[id].close();\n  }\n\n  ngOnDestroy() {\n    this.inputChanges$.complete();\n    if (this.el && !this.initializeMapAfterDisplayed) {\n      this.nguiMap.clearObjectEvents(OUTPUTS, this, 'map');\n    }\n    if (this.apiLoaderSub) {\n      this.apiLoaderSub.unsubscribe();\n    }\n  }\n\n  // map.markers, map.circles, map.heatmapLayers.. etc\n  addToMapObjectGroup(mapObjectName: string, mapObject: any) {\n    let groupName = toCamelCase(mapObjectName.toLowerCase()) + 's'; // e.g. markers\n    this.map[groupName] = this.map[groupName] || [];\n    this.map[groupName].push(mapObject);\n  }\n\n  removeFromMapObjectGroup(mapObjectName: string, mapObject: any) {\n    let groupName = toCamelCase(mapObjectName.toLowerCase()) + 's'; // e.g. markers\n    if (this.map && this.map[groupName]) {\n      let index = this.map[groupName].indexOf(mapObject);\n      console.log('index', mapObject, index);\n      (index > -1) && this.map[groupName].splice(index, 1);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/components/ngui-map.component.ts","import {EventEmitter, SimpleChanges, Output, OnInit, OnChanges, OnDestroy} from '@angular/core';\n\nimport { OptionBuilder } from '../services/option-builder';\nimport { NguiMap } from '../services/ngui-map';\nimport { NguiMapComponent } from '../components/ngui-map.component';\nexport abstract class BaseMapDirective implements OnInit, OnChanges, OnDestroy {\n  // this should be redefined on each childr directive\n  @Output() initialized$: EventEmitter<any> = new EventEmitter();\n\n  public mapObject: any; // e.g. google.maps.Marker\n  public objectOptions: any; // e.g. google.maps.MarkerOptions\n\n  public nguiMap: NguiMap;\n  public optionBuilder: OptionBuilder;\n  public libraryName: string;\n  protected _subscriptions = [];\n\n  constructor(\n    protected nguiMapComponent: NguiMapComponent,\n    public    mapObjectName: string,\n    protected inputs: string[],\n    protected outputs: string[]\n  ) {\n    this.nguiMap = this.nguiMapComponent['nguiMap'];\n    this.optionBuilder = this.nguiMapComponent['optionBuilder'];\n    // all outputs must be initialized\n    this.outputs.forEach(output => this[output] = new EventEmitter());\n    this.mapObjectName = mapObjectName;\n  }\n\n  // Initialize this map object when map is ready\n  ngOnInit() {\n    if (this.nguiMapComponent.mapIdledOnce) { // map is ready already\n      this.initialize();\n    } else {\n      this.nguiMapComponent.mapReady$.subscribe(map => this.initialize());\n    }\n  }\n\n  // only called when map is ready\n  initialize(): void {\n    this.objectOptions = this.optionBuilder.googlizeAllInputs(this.inputs, this);\n    console.log(this.mapObjectName, 'initialization options', this.objectOptions);\n\n    // will be set after geocoded\n    typeof this.objectOptions.position === 'string' && (delete this.objectOptions.position);\n    typeof this.objectOptions.center === 'string' && (delete this.objectOptions.center);\n\n    // noinspection TypeScriptUnresolvedFunction\n    if (this.libraryName) {\n      this.mapObject = new google.maps[this.libraryName][this.mapObjectName](this.objectOptions);\n    } else {\n      this.mapObject = new google.maps[this.mapObjectName](this.objectOptions);\n    }\n    this.mapObject.setMap(this.nguiMapComponent.map);\n    this.mapObject['mapObjectName'] = this.mapObjectName;\n    this.mapObject['nguiMapComponent'] = this.nguiMapComponent;\n\n    // set google events listeners and emits to this outputs listeners\n    this.nguiMap.setObjectEvents(this.outputs, this, 'mapObject');\n\n    this.nguiMapComponent.addToMapObjectGroup(this.mapObjectName, this.mapObject);\n    this.initialized$.emit(this.mapObject);\n  }\n\n  // When input is changed, update object too.\n  // e.g., when map center is changed by user, update center on the map\n  ngOnChanges(changes: SimpleChanges) {\n    console.log(this.mapObjectName, 'objectOptions are changed', changes);\n    this.nguiMap.updateGoogleObject(this.mapObject, changes);\n  }\n\n  // When destroyed, remove event listener, and delete this object to prevent memory leak\n  ngOnDestroy() {\n    this._subscriptions.map(subscription => subscription.unsubscribe());\n    this.nguiMapComponent.removeFromMapObjectGroup(this.mapObjectName, this.mapObject);\n\n    if (this.mapObject) {\n      this.nguiMap.clearObjectEvents(this.outputs, this, 'mapObject');\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/base-map-directive.ts","import { Injectable, Inject, Optional, NgZone, OnDestroy } from '@angular/core';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport { NG_MAP_CONFIG_TOKEN } from './config';\nimport { isMapsApiLoaded } from './util';\nimport { first } from 'rxjs/operator/first';\n\nexport abstract class NgMapApiLoader implements OnDestroy {\n  api$: ReplaySubject<any> = first.call(new ReplaySubject(1));\n  abstract load();\n\n  constructor(protected config) {\n    this.config = this.config || {apiUrl: 'https://maps.google.com/maps/api/js'};\n  }\n\n  ngOnDestroy() {\n    this.api$.complete();\n  }\n}\n\n@Injectable()\nexport class NgMapAsyncCallbackApiLoader extends NgMapApiLoader {\n  constructor(protected zone: NgZone, @Optional() @Inject(NG_MAP_CONFIG_TOKEN) config) {\n    super(config);\n  }\n\n  load() {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    if (isMapsApiLoaded()) {\n      this.api$.next(google.maps);\n    } else if (!document.querySelector('#ngui-map-api')) {\n      (<any>window)['nguiMapRef'] = (<any>window)['nguiMapRef'] || [];\n      (<any>window)['nguiMapRef'].push({ zone: this.zone, componentFn: () => this.api$.next(google.maps)});\n      this.addGoogleMapsApi();\n    }\n  }\n\n  private addGoogleMapsApi() {\n    (<any>window)['initNguiMap'] = (<any>window)['initNguiMap'] || function() {\n      (<any>window)['nguiMapRef'].forEach(nguiMapRef => {\n        nguiMapRef.zone.run(function() { nguiMapRef.componentFn(); });\n      });\n      (<any>window)['nguiMapRef'].splice(0, (<any>window)['nguiMapRef'].length);\n    };\n\n    let script = document.createElement( 'script' );\n    script.id = 'ngui-map-api';\n\n    // script.src = \"https://maps.google.com/maps/api/js?callback=initNguiMap\";\n    let apiUrl = this.config.apiUrl ;\n    apiUrl += apiUrl.indexOf('?') !== -1 ? '&' : '?';\n    script.src = apiUrl + 'callback=initNguiMap';\n    document.querySelector('body').appendChild(script);\n  }\n}\n\n@Injectable()\nexport class NgMapAsyncApiLoader extends NgMapApiLoader {\n  constructor(@Optional() @Inject(NG_MAP_CONFIG_TOKEN) config) {\n    super(config);\n  }\n\n  load() {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    if (isMapsApiLoaded()) {\n      this.api$.next(google.maps);\n    } else if (!document.querySelector('#ngui-map-api')) {\n      let script = document.createElement('script');\n      script.id = 'ngui-map-api';\n\n      script.async = true;\n      script.onload = () => this.api$.next(google.maps);\n      script.src = this.config.apiUrl;\n      document.querySelector('body').appendChild(script);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/services/api-loader.ts","import { Injectable, SimpleChanges, NgZone } from '@angular/core';\nimport { OptionBuilder } from './option-builder';\nimport { GeoCoder } from './geo-coder';\n\n/**\n * collection of map instance-related properties and methods\n */\n@Injectable()\nexport class NguiMap {\n\n  constructor(\n    private geoCoder: GeoCoder,\n    private optionBuilder: OptionBuilder,\n    private zone: NgZone,\n  ) {}\n\n  setObjectEvents(definedEvents: string[], thisObj: any, prefix: string) {\n    definedEvents.forEach(definedEvent => {\n      let eventName = definedEvent\n        .replace(/([A-Z])/g, ($1) => `_${$1.toLowerCase()}`) // positionChanged -> position_changed\n        .replace(/^map_/, '');                               // map_click -> click  to avoid DOM conflicts\n\n      let zone = this.zone;\n      zone.runOutsideAngular(() => {\n        thisObj[prefix].addListener(eventName, function(event: google.maps.event) {\n          let param: any = event ? event : {};\n          param.target = this;\n          zone.run(() => thisObj[definedEvent].emit(param));\n        });\n      });\n    });\n  }\n\n  clearObjectEvents(definedEvents: string[], thisObj: any, prefix: string) {\n    definedEvents.forEach(definedEvent => {\n      let eventName = definedEvent\n        .replace(/([A-Z])/g, ($1) => `_${$1.toLowerCase()}`) // positionChanged -> position_changed\n        .replace(/^map_/, '');                               // map_click -> click  to avoid DOM conflicts\n\n      this.zone.runOutsideAngular(() => {\n        google.maps.event.clearListeners(thisObj[prefix], eventName);\n      });\n    });\n\n    if (thisObj[prefix]) {\n      if (thisObj[prefix].setMap) {\n        thisObj[prefix].setMap(null);\n      }\n\n      delete thisObj[prefix].nguiMapComponent;\n      delete thisObj[prefix];\n    }\n\n  }\n\n  updateGoogleObject = (object: any, changes: SimpleChanges)  => {\n    let val: any, currentValue: any, setMethodName: string;\n    if (object) {\n      for (let key in changes) {\n        setMethodName = `set${key.replace(/^[a-z]/, x => x.toUpperCase()) }`;\n        currentValue = changes[key].currentValue;\n        if (['position', 'center'].indexOf(key) !== -1 && typeof currentValue === 'string') {\n          // To preserve setMethod name in Observable callback, wrap it as a function, then execute\n          ((setMethodName) => {\n            this.geoCoder.geocode({address: currentValue}).subscribe(results => {\n              if (typeof object[setMethodName] === 'function') {\n                object[setMethodName](results[0].geometry.location);\n              } else {\n                console.error(\n                  'Not all options are dynamically updatable according to Googles Maps API V3 documentation.\\n' +\n                  'Please check Google Maps API documentation, and use \"setOptions\" instead.'\n                );\n              }\n            });\n          })(setMethodName);\n        } else {\n          val =  this.optionBuilder.googlize(currentValue);\n          if (typeof object[setMethodName] === 'function') {\n            object[setMethodName](val);\n          } else {\n            console.error(\n              'Not all options are dynamically updatable according to Googles Maps API V3 documentation.\\n' +\n              'Please check Google Maps API documentation, and use \"setOptions\" instead.'\n            );\n          }\n        }\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/services/ngui-map.ts","import { Injectable } from '@angular/core';\nimport { getJSON, IJson } from './util';\n\n/**\n * change any object to google object options\n * e.g. [1,2] -> new google.maps.LatLng(1,2);\n */\n@Injectable()\nexport class OptionBuilder {\n\n  googlizeAllInputs(definedInputs: string[], userInputs: any) {\n    let options: any = {};\n\n    // if options given from user, only take options and ignore other inputs\n    if (userInputs.options) {\n      console.log('userInputs.options .................', userInputs.options);\n      options = userInputs.options;\n      if (!this.onlyOptionsGiven(definedInputs, userInputs)) {\n        console.error('when \"options\" are used, other options are ignored');\n      }\n    } else { // if options not given, process all user inputs\n      definedInputs.forEach(input => {\n        if (userInputs[input] !== undefined)  {\n          options[input] = this.googlize(userInputs[input], {key: input});\n        }\n      });\n    }\n    return options;\n  }\n\n  googlizeMultiple(inputs: any[], options?: IJson): any {\n    options =  options || {};\n    for (let key in inputs) {\n      let val = inputs[key];\n      // (non-strings are fully converted)\n      if (typeof val !== 'string') {\n        options[key] = val;\n      } // sometimes '0' needed to stay as it is\n      else if (!(options['doNotConverStringToNumber'] && val.match(/^[0-9]+$/))) {\n        options[key] = this.googlize(val, {key: key});\n      }\n    } // for(var key in attrs)\n    return options;\n  }\n\n  googlize(input: any, options?: IJson): any {\n    options = options || {};\n    let output: any = input;\n    if (typeof input === 'string') { // convert string to a google object\n      if (input === 'false') {\n        output = false;\n      } else if (input === '0') {\n        output = 0;\n      } else {\n        output =\n          // -> googlize -> getJsonParsed -> googlizeMultiple -> googlize until all elements are parsed\n          this.getJSONParsed(input, options)\n\n          /* Foo.Bar(...) -> new google.maps.Foo.Bar(...) */\n          || this.getAnyMapObject(input)\n\n          /*  MapTypeID.HYBRID -> new google.maps.MapTypeID.HYBRID */\n          || this.getAnyMapConstant(input, options)\n\n          /*  2016-06-20 -> new Date('2016-06-20') */\n          || this.getDateObject(input)\n\n          || input;\n      }\n    }\n\n    if (options['key']) {\n      let key: string = <string>options['key'];\n      if (output instanceof Array) { // e.g., [1, 2]\n        if (key === 'bounds') {\n          output = new google.maps.LatLngBounds(output[0], output[1]);\n        } else if (key === 'icons') {\n          output = this.getMapIcons(output);\n        } else if (key === 'position' || key.match(/^geoFallback/) ) {\n          output = this.getLatLng(output);\n        }\n      } else if (output instanceof Object) {\n        if (key === 'icon') {\n          output = this.getMarkerIcon(output);\n        }\n        else if (key.match(/ControlOptions$/)) {\n          output = this.getMapControlOption(output);\n        }\n      }\n    }\n\n    // delete keys only for processing, not used by google\n    delete output['doNotConverStringToNumber'];\n    delete output['key'];\n\n    return output;\n  }\n\n  private getLatLng(input: any): google.maps.LatLng | Array<google.maps.LatLng> {\n    let output: google.maps.LatLng | Array<google.maps.LatLng>;\n    if (input[0].constructor === Array) { // [[1,2],[3,4]]\n      output = (<any[]>input).map((el: number[]) => new google.maps.LatLng(el[0], el[1]));\n    } else if (!isNaN(parseFloat(input[0])) && isFinite(input[0])) {\n      output = new google.maps.LatLng(input[0], input[1]);\n    }\n    return output;\n  }\n\n  private getJSONParsed(input: any, options: IJson): IJson {\n    let output: any;\n    try {\n      output = getJSON(input);\n      if (output instanceof Array) {\n        // [{a:1}] : not lat/lng ones\n\n        if (output[0].constructor !== Object) { // [[1,2],[3,4]] or [1,2]\n          output = this.getLatLng(output);\n        }\n      }\n      // JSON is an object (not array or null)\n      else if (output === Object(output)) {\n        // check for nested hashes and convert to Google API options\n        let newOptions = options;\n        newOptions['doNotConverStringToNumber'] = true;\n        output = this.googlizeMultiple(output, newOptions);\n      }\n    } catch (e) {\n    }\n    return output;\n  }\n\n  private getAnyMapObject(input: string): any {\n    let output: any;\n    if (input.match(/^[A-Z][a-zA-Z0-9]+\\(.*\\)$/)) {\n      try {\n        output = Function(`return new google.maps.${input};`)();\n      } catch (e) {}\n    }\n    return output;\n  }\n\n  private getAnyMapConstant(input: string, options: IJson): any {\n    let output: any;\n\n    if (input.match(/^([A-Z][a-zA-Z0-9]+)\\.([A-Z]+)$/)) { // e.g. MapTypeID.HYBRID\n      try {\n        let matches = input.match(/^([A-Z][a-zA-Z0-9]+)\\.([A-Z]+)$/);\n        output = google.maps[matches[1]][matches[2]];\n      } catch (e) {}\n    } else if (input.match(/^[A-Z]+$/)) { // e.g. HYBRID\n      try {\n        let capitalizedKey = (<string>options['key']).charAt(0).toUpperCase() +\n          (<string>options['key']).slice(1);\n        output = google.maps[capitalizedKey][input];\n      } catch (e) {}\n    }\n    return output;\n  }\n\n  /**\n   * streetviewControl, panControl, etc, not a general control\n   */\n  private getMapControlOption(controlOptions: IJson): IJson {\n    let newControlOptions: IJson = controlOptions;\n\n    for (let key in newControlOptions) { // assign the right values\n      if (newControlOptions[key]) {\n        let value = newControlOptions[key];\n\n        if (typeof value === 'string') {\n          value = (<string>value).toUpperCase();\n        }\n        else if (key === 'mapTypeIds') {\n          value = (<any[]>value).map(function (str) {\n            if (str.match(/^[A-Z]+$/)) { // if constant\n              return google.maps.MapTypeId[str.toUpperCase()];\n            } else { // else, custom map-type\n              return str;\n            }\n          });\n        }\n\n        if (key === 'style') {\n          let objName = key.replace(/Options$/, '') + 'Style';\n          newControlOptions[key] = google.maps[objName][<any>value];\n        }\n        else if (key === 'position') {\n          newControlOptions[key] = google.maps.ControlPosition[<any>value];\n        }\n        else {\n          newControlOptions[key] = value;\n        }\n      }\n    }\n\n    return newControlOptions;\n  }\n\n  private getDateObject(input: string): Date {\n    let output: Date;\n\n    if (input.match(/^(\\d{4}\\-\\d\\d\\-\\d\\d([tT][\\d:\\.]*)?)([zZ]|([+\\-])(\\d\\d):?(\\d\\d))?$/)) {\n      try {\n        output = new Date(input);\n      } catch (e) {}\n    }\n    return output;\n  }\n\n  private getMapIcons(input: any[]): any[] {\n    return input.map(el => {\n      if (el.icon.path.match(/^[A-Z_]+$/)) {\n        el.icon.path = google.maps.SymbolPath[el.icon.path];\n      }\n      return el;\n    });\n  }\n\n  private getMarkerIcon(input: any): any {\n    let output = input;\n\n    if (('' + output.path).match(/^[A-Z_]+$/)) {\n      output.path = google.maps.SymbolPath[output.path];\n    }\n\n    for (let key in output) {\n      let arr = output[key];\n      if (key === 'anchor' || key === 'origin' || key === 'labelOrigin') {\n        output[key] = new google.maps.Point(arr[0], arr[1]);\n    } else if (key === 'size' || key === 'scaledSize') {\n        output[key] = new google.maps.Size(arr[0], arr[1]);\n      }\n    }\n\n    return output;\n  }\n\n  private onlyOptionsGiven(definedInputs: string[], userInputs: any): boolean {\n    for (let i = 0; i < definedInputs.length; i++) {\n      let input = definedInputs[i];\n      if (input !== 'options' && typeof userInputs[input] !== 'undefined') {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/services/option-builder.ts","import { Injectable, OnDestroy } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\nimport { NgMapApiLoader } from './api-loader';\n\n/**\n *   Provides [defered/promise API](https://docs.angularjs.org/api/ng/service/$q)\n *   service for Google Geocoder service\n */\n\n@Injectable()\nexport class GeoCoder implements OnDestroy {\n  private apiLoaderSubs = [];\n  constructor(private apiLoader: NgMapApiLoader) {}\n\n  geocode(options: google.maps.GeocoderRequest) {\n    return new Observable((responseObserver: Observer<any>) => {\n        this.apiLoaderSubs.push(this.apiLoader.api$\n          .subscribe(() => this.requestGeocode(options, responseObserver)));\n    });\n  }\n\n  ngOnDestroy() {\n    this.apiLoaderSubs.map(sub => sub.unsubscribe());\n  }\n\n  private requestGeocode(options, observer) {\n    const geocoder = new google.maps.Geocoder();\n    geocoder.geocode(options, function (results, status) {\n      if (status === google.maps.GeocoderStatus.OK) {\n        observer.next(results);\n        observer.complete();\n      } else {\n        observer.error(results);\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/services/geo-coder.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\nimport { IJson } from './util';\n\n/**\n *  service for navigator.geolocation methods\n */\n@Injectable()\nexport class NavigatorGeolocation {\n\n  getCurrentPosition(geoLocationOptions?: IJson): Observable<any> {\n    geoLocationOptions = geoLocationOptions || { timeout: 5000 };\n\n    return new Observable<any>((responseObserver: Observer<any>) => {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(\n          (position) => {\n            responseObserver.next(position);\n            responseObserver.complete();\n          },\n          (evt) => responseObserver.error(evt),\n          geoLocationOptions\n        );\n      } else {\n        responseObserver.error('Browser Geolocation service failed.');\n      }\n    });\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/services/navigator-geolocation.ts","import { OpaqueToken } from '@angular/core';\n\nexport const NG_MAP_CONFIG_TOKEN = new OpaqueToken('NG_MAP_CONFIG_TOKEN');\nexport interface ConfigOption {\n  apiUrl?: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/services/config.ts","/**\n * return json string from json-like string\n */\nexport function jsonize(str: string): string {\n  try {       // if parsable already, return as it is\n    JSON.parse(str);\n    return str;\n  } catch (e) { // if not parsable, change little\n    return str\n      .replace(/([\\$\\w]+)\\s*:/g, // wrap keys without double quote\n        function(_: any, $1: any) {\n          return '\"' + $1 + '\":';\n        }\n      )\n      .replace(/'([^']+)'/g,   // replacing single quote to double quote\n        function(_: any, $1: any) {\n          return '\"' + $1 + '\"';\n        }\n      );\n  }\n};\n\n/**\n * Returns string to an object by using JSON.parse()\n */\nexport function getJSON(input: any): any {\n  if (typeof input === 'string') {\n    const re = /^[\\+\\-]?[0-9\\.]+,[ ]*\\ ?[\\+\\-]?[0-9\\.]+$/; // lat,lng\n    if (input.match(re)) {\n      input = '[' + input + ']';\n    }\n    return JSON.parse(jsonize(input));\n  } else {\n    return input;\n  }\n};\n\n/**\n * json type definition\n */\n/* tslint:disable */\n//interface IJsonArray extends Array<string|number|boolean|Date|IJson|IJsonArray> { }\nexport interface IJson {\n  //[x: string]: string|number|boolean|Date|IJson|IJsonArray;\n  [x: string]: string|number|boolean|Date|IJson|Array<string|number|boolean|Date|IJson>;\n}\n/* tslint:enable */\n\n\n/**\n * Returns camel-cased from string 'Foo Bar' to 'fooBar'\n */\nexport function toCamelCase(str: string): string {\n  return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function(letter, index) {\n    return index === 0 ? letter.toLowerCase() : letter.toUpperCase();\n  }).replace(/\\s+/g, '');\n}\n\nexport function isMapsApiLoaded() {\n  return typeof google === 'object' && typeof google.maps === 'object';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/services/util.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Subject\"\n// module id = 11\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/operator/debounceTime\"\n// module id = 12\n// module chunks = 0","import {\r\n  Component,\r\n  ElementRef,\r\n  Output,\r\n  EventEmitter,\r\n  SimpleChanges, OnInit, OnDestroy, OnChanges,\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { debounceTime } from 'rxjs/operator/debounceTime';\r\n\r\nimport { NguiMap } from '../services/ngui-map';\r\nimport { NguiMapComponent } from './ngui-map.component';\r\n\r\nconst INPUTS = [\r\n  'position'\r\n];\r\n// to avoid DOM event conflicts map_*\r\nconst OUTPUTS = [\r\n  'animationChanged', 'click', 'clickableChanged', 'cursorChanged', 'dblclick', 'drag', 'dragend', 'draggableChanged',\r\n  'dragstart', 'flatChanged', 'iconChanged', 'mousedown', 'mouseout', 'mouseover', 'mouseup', 'positionChanged', 'rightclick',\r\n  'shapeChanged', 'titleChanged', 'visibleChanged', 'zindexChanged',\r\n  'map_click', 'map_mouseover', 'map_mouseout', 'map_mouseup', 'map_mousedown', 'map_drag', 'map_dragend'\r\n];\r\n\r\n/**\r\n * Wrapper to a create extend OverlayView at runtime, only after google maps is loaded.\r\n * Otherwise throws a google is unknown error.\r\n */\r\nfunction getCustomMarkerOverlayView(htmlEl: HTMLElement, position: any) {\r\n\r\n  class CustomMarkerOverlayView extends google.maps.OverlayView {\r\n\r\n    private htmlEl: HTMLElement;\r\n    private position: any;\r\n    private zIndex: string;\r\n    private visible: boolean = true;\r\n\r\n    constructor(htmlEl: HTMLElement, position: any) {\r\n      super();\r\n      this.htmlEl = htmlEl;\r\n      this.position = position;\r\n    }\r\n\r\n    onAdd(): void {\r\n      this.getPanes().overlayMouseTarget.appendChild(this.htmlEl);\r\n\r\n      // required for correct display inside google maps container\r\n      this.htmlEl.style.position = 'absolute';\r\n    }\r\n\r\n    draw(): void {\r\n      this.setPosition(this.position);\r\n      this.setZIndex(this.zIndex);\r\n      this.setVisible(this.visible);\r\n    }\r\n\r\n    onRemove(): void {\r\n      //\r\n    }\r\n\r\n    getPosition() {\r\n      return this.position;\r\n    };\r\n\r\n    setPosition = (position?: any) => {\r\n      this.htmlEl.style.visibility = 'hidden';\r\n\r\n      if (position.constructor.name === 'Array') {\r\n        this.position = new google.maps.LatLng(position[0], position[1]);\r\n      } else if (typeof position === 'string') {\r\n        let geocoder = new google.maps.Geocoder();\r\n\r\n        geocoder.geocode({address: position}, (results, status) => {\r\n          if (status === google.maps.GeocoderStatus.OK) {\r\n            console.log('setting custom marker position from address', position);\r\n            this.setPosition(results[0].geometry.location);\r\n          } else {\r\n            console.log('Error in custom marker geo coding, position');\r\n          }\r\n        });\r\n      } else if (position && typeof position.lng === 'function') {\r\n        this.position = position;\r\n      }\r\n\r\n      if (this.getProjection() && typeof this.position.lng === 'function') {\r\n        let positionOnMap = () => {\r\n          let posPixel = this.getProjection().fromLatLngToDivPixel(this.position);\r\n          let x = Math.round(posPixel.x - (this.htmlEl.offsetWidth / 2));\r\n          let y = Math.round(posPixel.y - this.htmlEl.offsetHeight / 2);\r\n          this.htmlEl.style.left = x + 'px';\r\n          this.htmlEl.style.top = y + 'px';\r\n          this.htmlEl.style.visibility = 'visible';\r\n        };\r\n\r\n        if (this.htmlEl.offsetWidth && this.htmlEl.offsetHeight) {\r\n          positionOnMap();\r\n        } else {\r\n          setTimeout(() => positionOnMap());\r\n        }\r\n      }\r\n    }\r\n\r\n    setZIndex(zIndex: string): void {\r\n      zIndex && (this.zIndex = zIndex); /* jshint ignore:line */\r\n      this.htmlEl.style.zIndex = this.zIndex;\r\n    }\r\n\r\n    setVisible(visible: boolean) {\r\n      this.htmlEl.style.display = visible ? 'inline-block' : 'none';\r\n      this.visible = visible;\r\n    };\r\n  }\r\n\r\n  return new CustomMarkerOverlayView(htmlEl, position);\r\n}\r\n\r\n@Component({\r\n  selector: 'ngui-map > custom-marker',\r\n  inputs: INPUTS,\r\n  outputs: OUTPUTS,\r\n  template: `\r\n    <ng-content></ng-content>\r\n  `,\r\n})\r\n\r\nexport class CustomMarker implements OnInit, OnDestroy, OnChanges {\r\n  @Output() initialized$: EventEmitter<any> = new EventEmitter();\r\n\r\n  public inputChanges$ = new Subject();\r\n\r\n  private el: HTMLElement;\r\n  private mapObject: any;\r\n\r\n  constructor(private nguiMapComponent: NguiMapComponent,\r\n              private elementRef: ElementRef,\r\n              private nguiMap: NguiMap) {\r\n    this.elementRef.nativeElement.style.display = 'none';\r\n    OUTPUTS.forEach(output => this[output] = new EventEmitter());\r\n  }\r\n\r\n  // Initialize this map object when map is ready\r\n  ngOnInit() {\r\n    if (this.nguiMapComponent.mapIdledOnce) { // map is ready already\r\n      this.initialize();\r\n    } else {\r\n      this.nguiMapComponent.mapReady$.subscribe(map => this.initialize());\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    this.inputChanges$.next(changes);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.inputChanges$.complete();\r\n    this.nguiMapComponent.removeFromMapObjectGroup('CustomMarker', this.mapObject);\r\n\r\n    if (this.mapObject) {\r\n      this.nguiMap.clearObjectEvents(OUTPUTS, this, 'mapObject');\r\n    }\r\n  }\r\n\r\n  private initialize(): void {\r\n    console.log('custom-marker is being initialized');\r\n    this.el = this.elementRef.nativeElement;\r\n\r\n    this.mapObject = getCustomMarkerOverlayView(this.el, this['position']);\r\n    this.mapObject.setMap(this.nguiMapComponent.map);\r\n\r\n    // set google events listeners and emits to this outputs listeners\r\n    this.nguiMap.setObjectEvents(OUTPUTS, this, 'mapObject');\r\n\r\n    // update object when input changes\r\n    debounceTime.call(this.inputChanges$, 1000)\r\n      .subscribe((changes: SimpleChanges) => this.nguiMap.updateGoogleObject(this.mapObject, changes));\r\n\r\n    this.nguiMapComponent.addToMapObjectGroup('CustomMarker', this.mapObject);\r\n    this.initialized$.emit(this.mapObject);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/components/custom-marker.ts","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  SimpleChanges,\n  ViewChild, ViewContainerRef,\n  Output, OnInit, OnChanges, OnDestroy\n} from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { debounceTime } from 'rxjs/operator/debounceTime';\nimport { NguiMap } from '../services/ngui-map';\nimport { NguiMapComponent } from './ngui-map.component';\n\nconst INPUTS = [\n  'content', 'disableAutoPan', 'maxWidth', 'pixelOffset', 'position', 'zIndex', 'options'\n];\nconst OUTPUTS = [\n  'closeclick', 'content_changed', 'domready', 'position_changed', 'zindex_changed'\n];\n\n@Component({\n  selector: 'ngui-map > info-window',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n  template: `<div #template><ng-content></ng-content></div>`,\n})\nexport class InfoWindow implements OnInit, OnChanges, OnDestroy {\n  @Output() initialized$: EventEmitter<any> = new EventEmitter();\n\n  public infoWindow: google.maps.InfoWindow;\n  public objectOptions: google.maps.InfoWindowOptions = {};\n  public inputChanges$ = new Subject();\n  @ViewChild('template', {read: ViewContainerRef}) template: ViewContainerRef;\n\n  constructor(\n    private elementRef: ElementRef,\n    private nguiMap: NguiMap,\n    private nguiMapComponent: NguiMapComponent,\n  ) {\n    this.elementRef.nativeElement.style.display = 'none';\n    OUTPUTS.forEach(output => this[output] = new EventEmitter());\n  }\n\n  // Initialize this map object when map is ready\n  ngOnInit() {\n    if (this.nguiMapComponent.mapIdledOnce) { // map is ready already\n      this.initialize();\n    } else {\n      this.nguiMapComponent.mapReady$.subscribe(map => this.initialize());\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.inputChanges$.next(changes);\n  }\n\n  // called when map is ready\n  initialize(): void {\n    console.log('infowindow is being initialized');\n\n    this.objectOptions = this.nguiMapComponent.optionBuilder.googlizeAllInputs(INPUTS, this);\n    this.infoWindow = new google.maps.InfoWindow(this.objectOptions);\n    this.infoWindow['mapObjectName'] = 'InfoWindow';\n    console.log('INFOWINDOW objectOptions', this.objectOptions);\n\n    // register infoWindow ids to NguiMap, so that it can be opened by id\n    if (this.elementRef.nativeElement.id) {\n      this.nguiMapComponent.infoWindows[this.elementRef.nativeElement.id] = this;\n    } else {\n      console.error('An InfoWindow must have an id. e.g. id=\"detail\"');\n    }\n\n    // set google events listeners and emits to this outputs listeners\n    this.nguiMap.setObjectEvents(OUTPUTS, this, 'infoWindow');\n\n    // update object when input changes\n    debounceTime.call(this.inputChanges$, 1000)\n      .subscribe((changes: SimpleChanges) => this.nguiMap.updateGoogleObject(this.infoWindow, changes));\n\n    this.nguiMapComponent.addToMapObjectGroup('InfoWindow', this.infoWindow);\n    this.initialized$.emit(this.infoWindow);\n  }\n\n  open(anchor: google.maps.MVCObject) {\n    // set content and open it\n    this.infoWindow.setContent(this.template.element.nativeElement);\n    this.infoWindow.open(this.nguiMapComponent.map, anchor);\n  }\n  close() {\n    // check if infoWindow exists, and closes it\n    if (this.infoWindow)\n      this.infoWindow.close();\n  }\n  ngOnDestroy() {\n    this.inputChanges$.complete();\n    if (this.infoWindow) {\n      this.nguiMap.clearObjectEvents(OUTPUTS, this, 'infoWindow');\n      delete this.infoWindow;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/components/info-window.ts","import { Directive } from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = [];\nconst OUTPUTS = [ ];\n\n@Directive({\n  selector: 'ngui-map > bicycling-layer',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class BicyclingLayer extends BaseMapDirective {\n  constructor(nguiMapComp: NguiMapComponent) {\n    super(nguiMapComp, 'BicyclingLayer', INPUTS, OUTPUTS);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/bicycling-layer.ts","import { Directive } from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = [\n  'center', 'clickable', 'draggable', 'editable', 'fillColor', 'fillOpacity', 'map', 'radius',\n  'strokeColor', 'strokeOpacity', 'strokePosition', 'strokeWeight', 'visible', 'zIndex', 'options',\n  // ngui-map specific inputs\n  'geoFallbackCenter'\n];\nconst OUTPUTS = [\n  'centerChanged', 'click', 'dblclick', 'drag', 'dragend', 'dragstart',\n  'mousedown', 'mousemove', 'mouseout', 'mouseover', 'mouseup', 'radiusChanged', 'rightclick',\n];\n\n@Directive({\n  selector: 'ngui-map>circle, ngui-map>map-circle',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class Circle extends BaseMapDirective {\n  public mapObject: google.maps.Circle;\n  public objectOptions: google.maps.CircleOptions = <google.maps.CircleOptions>{};\n\n  constructor(private nguiMapComp: NguiMapComponent) {\n    super(nguiMapComp, 'Circle', INPUTS, OUTPUTS);\n  }\n\n  initialize(): void {\n    super.initialize();\n    this.setCenter();\n  }\n\n  setCenter(): void {\n    if (!this['center']) {\n      this._subscriptions.push(this.nguiMapComp.geolocation.getCurrentPosition().subscribe(\n        center => {\n          console.log('setting circle center from current location');\n          let latLng = new google.maps.LatLng(center.coords.latitude, center.coords.longitude);\n          this.mapObject.setCenter(latLng);\n        },\n        error => {\n          console.error('ngui-map, error in finding the current position');\n          this.mapObject.setCenter(this.objectOptions['geoFallbackCenter'] || new google.maps.LatLng(0, 0));\n        }\n      ));\n    } else if (typeof this['center'] === 'string') {\n      this._subscriptions.push(this.nguiMapComp.geoCoder.geocode({address: this['center']}).subscribe(\n        results => {\n          console.log('setting circle center from address', this['center']);\n          this.mapObject.setCenter(results[0].geometry.location);\n        },\n        error => {\n          console.error('ngui-map, error in finding location from', this['center']);\n          this.mapObject.setCenter(this.objectOptions['geoFallbackCenter'] || new google.maps.LatLng(0, 0));\n        }\n      ));\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/circle.ts","import { Directive } from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = ['controlPosition', 'controls', 'drawingMode', 'featureFactory', 'style', 'geoJson'];\nconst OUTPUTS = [\n  'addfeature', 'click', 'dblclick', 'mousedown', 'mouseout', 'mouseover',\n  'mouseup', 'removefeature', 'removeproperty', 'rightclick', 'setgeometry', 'setproperty'\n];\n\n@Directive({\n  selector: 'ngui-map > data-layer',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class DataLayer extends BaseMapDirective {\n  constructor(nguiMapComponent: NguiMapComponent) {\n    super(nguiMapComponent, 'Data', INPUTS, OUTPUTS);\n  }\n\n  // only called when map is ready\n  initialize(): void {\n    if (this['geoJson']) {\n      // addGeoJson from an object\n      console.log('this.geoJson', this['geoJson']);\n      this.nguiMapComponent.map.data.addGeoJson(this['geoJson']);\n    } else if (this['geoJsonUrl']) {\n      // loadGeoJson from a URL\n      console.log('this.geoJsonUrl', this['geoJsonUrl']);\n      this.nguiMapComponent.map.data.loadGeoJson(this['geoJsonUrl']);\n    }\n    else {\n      this.objectOptions = this.optionBuilder.googlizeAllInputs(this.inputs, this);\n      console.log(this.mapObjectName, 'initialization objectOptions', this.objectOptions);\n      this.nguiMapComponent.map.data.add(this.objectOptions);\n    }\n\n    // unlike others, data belongs to map. e.g., map.data.loadGeoJson(), map.data.add()\n    this.mapObject = this.nguiMapComponent.map.data;\n\n    // set google events listeners and emits to this outputs listeners\n    this.nguiMap.setObjectEvents(this.outputs, this, 'mapObject');\n\n    this.nguiMapComponent.addToMapObjectGroup(this.mapObjectName, this.mapObject);\n    this.initialized$.emit(this.mapObject);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/data-layer.ts","import { Input, Directive, SimpleChanges, OnChanges, OnDestroy } from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\nimport { NavigatorGeolocation } from '../services/navigator-geolocation';\n\nconst INPUTS = [\n  'directions', 'draggable', 'hideRouteList', 'infoWindow', 'panel', 'markerOptions',\n  'polylineOptions', 'preserveViewport', 'routeIndex', 'suppressBicyclingLayer',\n  'suppressInfoWindows', 'suppressMarkers', 'suppressPolylines'\n];\nconst OUTPUTS = ['directions_changed'];\n\n@Directive({\n  selector: 'ngui-map > directions-renderer',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class DirectionsRenderer extends BaseMapDirective implements OnChanges, OnDestroy {\n  // tslint:disable-next-line\n  @Input('directions-request') directionsRequest: google.maps.DirectionsRequest;\n\n  directionsService: google.maps.DirectionsService;\n  directionsRenderer: google.maps.DirectionsRenderer;\n\n  constructor(\n    nguiMapComponent: NguiMapComponent,\n    public geolocation: NavigatorGeolocation\n  ) {\n    super(nguiMapComponent, 'DirectionsRenderer', INPUTS, OUTPUTS);\n  }\n\n  // only called when map is ready\n  initialize(): void {\n    this.objectOptions = this.optionBuilder.googlizeAllInputs(this.inputs, this);\n    if (typeof this.objectOptions['panel'] === 'string') { // find a Node for panel\n      this.objectOptions['panel'] = document.querySelector(this.objectOptions['panel']);\n    }\n\n    console.log('DirectionsRenderer', 'initialization options', this.objectOptions, this.directionsRequest);\n\n    this.directionsService = new google.maps.DirectionsService();\n    this.directionsRenderer = new google.maps.DirectionsRenderer(this.objectOptions);\n\n    this.directionsRenderer.setMap(this.nguiMapComponent.map);\n\n    // set google events listeners and emidirectionsRenderer to this outputs listeners\n    this.showDirections(this.directionsRequest);\n\n    this.nguiMap.setObjectEvents(this.outputs, this, 'directionsRenderer');\n\n    this.nguiMapComponent.addToMapObjectGroup(this.mapObjectName, this.mapObject);\n    this.initialized$.emit(this.directionsRenderer);\n  }\n\n\n  ngOnChanges(changes: SimpleChanges) {\n    let newOptions = {};\n    for (let key in changes) {\n      if (this.inputs.indexOf(key) !== -1) {\n        newOptions[key] = this.optionBuilder.googlize(changes[key].currentValue);\n      }\n    }\n    if (changes['directionsRequest'] && this.directionsRenderer) {\n      this.directionsService && this.showDirections(this.directionsRequest);\n    }\n  }\n\n  showDirections(directionsRequest: google.maps.DirectionsRequest) {\n    this.directionsService.route(directionsRequest,\n      (response: any, status: any) =>  {\n        if (status === google.maps.DirectionsStatus.OK) {\n          this.directionsRenderer.setDirections(response);\n        } else {\n          console.error('Directions request failed due to ' + status);\n        }\n      }\n    );\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    this.nguiMap.clearObjectEvents(this.outputs, this, 'directionsRenderer');\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/directions-renderer.ts","import { Directive } from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = [\n  'options',\n  'circleOptions', 'drawingControl', 'drawingControlOptions', 'drawingMode',\n  'map', 'markerOptions', 'polygonOptions', 'polylineOptions', 'rectangleOptions'\n];\nconst OUTPUTS = [\n  'circlecomplete', 'markercomplete', 'overlaycomplete',\n  'polygoncomplete', 'polylinecomplete', 'rectanglecomplete'\n];\n\n@Directive({\n  selector: 'ngui-map > drawing-manager',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class DrawingManager extends BaseMapDirective {\n  constructor(nguiMapComp: NguiMapComponent) {\n    super(nguiMapComp, 'DrawingManager', INPUTS, OUTPUTS);\n    this.libraryName = 'drawing';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/drawing-manager.ts","import { Directive } from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = [ 'url', 'bounds', 'clickable', 'opacity' ];\nconst OUTPUTS = [ 'click', 'dblclick' ];\n\n@Directive({\n  selector: 'ngui-map > ground-overlay',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class GroundOverlay extends BaseMapDirective {\n  public mapObject: google.maps.GroundOverlay;\n  public objectOptions: google.maps.GroundOverlayOptions = <google.maps.GroundOverlayOptions>{};\n\n  constructor(nguiMapComp: NguiMapComponent) {\n    super(nguiMapComp, 'GroundOverlay', INPUTS, OUTPUTS);\n  }\n\n  // re-declaring initialize function. called when map is ready\n  initialize(): void {\n    // url, bounds are not the options of GroundOverlay\n    this.objectOptions = this.optionBuilder.googlizeAllInputs(['clickable', 'opacity'], this);\n    console.log(this.mapObjectName, 'initialization objectOptions', this.objectOptions);\n\n    // noinspection TypeScriptUnresolvedFunction\n    this.mapObject = new google.maps.GroundOverlay(this['url'], this['bounds'], this.objectOptions);\n    this.mapObject.setMap(this.nguiMapComponent.map);\n    this.mapObject['mapObjectName'] = this.mapObjectName;\n\n    // set google events listeners and emits to this outputs listeners\n    this.nguiMap.setObjectEvents(this.outputs, this, 'mapObject');\n\n    this.nguiMapComponent.addToMapObjectGroup(this.mapObjectName, this.mapObject);\n    this.initialized$.emit(this.mapObject);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/ground-overlay.ts","import { Directive } from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = [ 'data', 'dissipating', 'gradient', 'maxIntensity', 'opacity', 'radius', 'options' ];\nconst OUTPUTS = [];\n\n@Directive({\n  selector: 'ngui-map > heatmap-layer',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class HeatmapLayer extends BaseMapDirective {\n  public libraryName = 'visualization';\n\n  constructor(nguiMapComp: NguiMapComponent) {\n    super(nguiMapComp, 'HeatmapLayer', INPUTS, OUTPUTS);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/heatmap-layer.ts","import { Directive } from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = [ 'clickable', 'preserveViewport', 'screenOverlays', 'suppressInfoWindows', 'url', 'zIndex', 'options' ];\nconst OUTPUTS = [ 'click', 'defaultviewport_changed', 'status_changed' ];\n\n@Directive({\n  selector: 'ngui-map > kml-layer',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class KmlLayer extends BaseMapDirective {\n  constructor(nguiMapComp: NguiMapComponent) {\n    super(nguiMapComp, 'KmlLayer', INPUTS, OUTPUTS);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/kml-layer.ts","import {Directive, OnInit} from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = [\n  'anchorPoint', 'animation', 'clickable', 'cursor', 'draggable', 'icon', 'label', 'opacity',\n  'optimized', 'place', 'position', 'shape', 'title', 'visible', 'zIndex', 'options',\n  // ngui-map specific inputs\n  'geoFallbackPosition'\n];\nconst OUTPUTS = [\n  'animationChanged', 'click', 'clickableChanged', 'cursorChanged', 'dblclick', 'drag', 'dragend', 'draggableChanged',\n  'dragstart', 'flatChanged', 'iconChanged', 'mousedown', 'mouseout', 'mouseover', 'mouseup', 'positionChanged', 'rightclick',\n  'shapeChanged', 'titleChanged', 'visibleChanged', 'zindexChanged'\n];\n\n@Directive({\n  selector: 'ngui-map > marker',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class Marker extends BaseMapDirective implements OnInit {\n  public mapObject: google.maps.Marker;\n  public objectOptions: google.maps.MarkerOptions = <google.maps.MarkerOptions>{};\n\n  constructor(private nguiMapComp: NguiMapComponent) {\n    super(nguiMapComp, 'Marker', INPUTS, OUTPUTS);\n    console.log('marker constructor', 9999999 );\n  }\n\n  // Initialize this map object when map is ready\n  ngOnInit() {\n    if (this.nguiMapComponent.mapIdledOnce) { // map is ready already\n      this.initialize();\n    } else {\n      this.nguiMapComponent.mapReady$.subscribe(map => this.initialize());\n    }\n  }\n\n  initialize(): void {\n    super.initialize();\n    this.setPosition();\n  }\n\n  setPosition(): void {\n    if (!this['position']) {\n      this._subscriptions.push(this.nguiMapComp.geolocation.getCurrentPosition().subscribe(\n        position => {\n          console.log('setting marker position from current location');\n          let latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n          this.mapObject.setPosition(latLng);\n        },\n        error => {\n          console.error('ngui-map, error finding the current location');\n          this.mapObject.setPosition(this.objectOptions['geoFallbackPosition'] || new google.maps.LatLng(0, 0));\n        }\n      ));\n    } else if (typeof this['position'] === 'string') {\n      this._subscriptions.push(this.nguiMapComp.geoCoder.geocode({address: this['position']}).subscribe(\n        results => {\n          console.log('setting marker position from address', this['position']);\n          this.mapObject.setPosition(results[0].geometry.location);\n        },\n        error => {\n          console.error('ngui-map, error finding the location from', this['position']);\n          this.mapObject.setPosition(this.objectOptions['geoFallbackPosition'] || new google.maps.LatLng(0, 0));\n        }\n      ));\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/marker.ts","import {\n  Input,\n  Output,\n  Directive,\n  EventEmitter,\n  ElementRef,\n} from '@angular/core';\n\nimport { NgMapApiLoader } from '../services/api-loader';\nimport { OptionBuilder } from '../services/option-builder';\n\n@Directive({\n  selector: '[places-auto-complete]'\n})\nexport class PlacesAutoComplete {\n  @Input('bounds') bounds: any;\n  @Input('componentRestrictions') componentRestrictions: any;\n  @Input('types') types: string[];\n\n  @Output('place_changed') place_changed: EventEmitter<any> = new EventEmitter();\n  @Output() initialized$: EventEmitter<any> = new EventEmitter();\n\n  public objectOptions: any;\n  public autocomplete: google.maps.places.Autocomplete;\n\n  constructor(\n    public optionBuilder: OptionBuilder,\n    public elementRef: ElementRef,\n    public apiLoader: NgMapApiLoader,\n  ) {\n    apiLoader.load();\n    apiLoader.api$.subscribe(() => this.initialize());\n  }\n\n  // only called when map is ready\n  initialize = (): void => {\n    this.objectOptions =\n      this.optionBuilder.googlizeAllInputs(['bounds', 'componentRestrictions', 'types'], this);\n    console.log('places autocomplete options', this.objectOptions);\n\n    this.autocomplete = new google.maps.places.Autocomplete(\n      this.elementRef.nativeElement,\n      this.objectOptions\n    );\n    console.log('this.autocomplete', this.autocomplete);\n\n    this.autocomplete.addListener('place_changed', place => {\n      this.place_changed.emit(this.autocomplete.getPlace());\n    });\n\n    this.initialized$.emit(this.autocomplete);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/places-auto-complete.ts","import { Directive } from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = [\n  'clickable', 'draggable', 'editable', 'fillColor', 'fillOpacity', 'geodesic', 'paths',\n  'strokeColor', 'strokeOpacity', 'strokePosition', 'strokeWeight', 'visible', 'zIndex', 'options',\n];\nconst OUTPUTS = [\n  'click', 'dblclick', 'drag', 'dragend', 'dragstart', 'mousedown',\n  'mousemove', 'mouseout', 'mouseover', 'mouseup', 'rightclick',\n];\n\n@Directive({\n  selector: 'ngui-map>polygon, ngui-map>map-polygon',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class Polygon extends BaseMapDirective {\n  constructor(nguiMapComp: NguiMapComponent) {\n    super(nguiMapComp, 'Polygon', INPUTS, OUTPUTS);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/polygon.ts","import { Directive } from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = [\n  'clickable', 'draggable', 'editable', 'geodesic', 'icons', 'path', 'strokeColor',\n  'strokeOpacity', 'strokeWeight', 'visible', 'zIndex', 'options'\n];\nconst OUTPUTS = [\n  'click', 'dblclick', 'drag', 'dragend', 'dragstart', 'mousedown',\n  'mousemove', 'mouseout', 'mouseover', 'mouseup', 'rightclick'\n];\n\n@Directive({\n  selector: 'ngui-map > polyline',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class Polyline extends BaseMapDirective {\n  constructor(nguiMapComp: NguiMapComponent) {\n    super(nguiMapComp, 'Polyline', INPUTS, OUTPUTS);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/polyline.ts","import {Directive, OnDestroy} from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = [\n  'selector', 'options',\n  'addressControl', 'addressControlOptions', 'clickToGo', 'disableDefaultUI', 'disableDoubleClickZoom',\n  'enableCloseButton', 'fullscreenControl', 'fullscreenControlOptions', 'imageDateControl', 'linksControl',\n  'motionTracking', 'motionTrackingControl', 'panControl', 'panControlOptions', 'pano',\n  'position', 'pov', 'scrollwheel', 'showRoadLabels', 'visible', 'zoomControl', 'zoomControlOptions'\n];\nconst OUTPUTS = [\n  'closeclick', 'pano_changed', 'position_changed', 'pov_changed', 'resize', 'status_changed',\n  'visible_changed', 'zoom_changed'\n];\n\n@Directive({\n  selector: 'ngui-map > street-view-panorama',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class StreetViewPanorama extends BaseMapDirective implements OnDestroy {\n  constructor(nguiMapComp: NguiMapComponent) {\n    super(nguiMapComp, 'StreetViewPanorama', INPUTS, OUTPUTS);\n  }\n\n  // only called when map is ready\n  initialize(): void {\n    this.objectOptions = this.optionBuilder.googlizeAllInputs(this.inputs, this);\n    console.log(this.mapObjectName, 'initialization objectOptions', this.objectOptions);\n\n    let element: HTMLElement;\n    if (this.objectOptions.selector) {\n      // noinspection TypeScriptValidateTypes\n      element = document.querySelector(this['selector']);\n      delete this.objectOptions.selector;\n    } else {\n      element = this.nguiMapComponent.el;\n    }\n\n    // will be set after geocoded\n    typeof this.objectOptions.position === 'string' && (delete this.objectOptions.position);\n\n    this.mapObject = new google.maps[this.mapObjectName](element, this.objectOptions);\n    this.mapObject['mapObjectName'] = this.mapObjectName;\n    this.mapObject['nguiMapComponent'] = this.nguiMapComponent;\n\n    // set google events listeners and emits to this outputs listeners\n    this.nguiMap.setObjectEvents(this.outputs, this, 'mapObject');\n\n    this.nguiMapComponent.addToMapObjectGroup(this.mapObjectName, this.mapObject);\n    this.initialized$.emit(this.mapObject);\n  }\n\n  // When destroyed, remove event listener, and delete this object to prevent memory leak\n  ngOnDestroy() {\n    if (this.nguiMapComponent.el) {\n      this.nguiMap.clearObjectEvents(this.outputs, this, 'mapObject');\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/street-view-panorama.ts","import { Directive } from '@angular/core';\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = ['autoRefresh', 'options' ];\nconst OUTPUTS = [ ];\n\n@Directive({\n  selector: 'ngui-map > traffic-layer',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class TrafficLayer extends BaseMapDirective {\n  constructor(nguiMapComp: NguiMapComponent) {\n    super(nguiMapComp, 'TrafficLayer', INPUTS, OUTPUTS);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/traffic-layer.ts","import { Directive } from '@angular/core';\n\nimport { BaseMapDirective } from './base-map-directive';\nimport { NguiMapComponent } from '../components/ngui-map.component';\n\nconst INPUTS = [];\nconst OUTPUTS = [ ];\n\n@Directive({\n  selector: 'ngui-map > transit-layer',\n  inputs: INPUTS,\n  outputs: OUTPUTS,\n})\nexport class TransitLayer extends BaseMapDirective {\n  constructor(nguiMapComp: NguiMapComponent) {\n    super(nguiMapComp, 'TransitLayer', INPUTS, OUTPUTS);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/directives/transit-layer.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_30__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Observable\"\n// module id = 30\n// module chunks = 0","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { OptionBuilder } from './services/option-builder';\nimport { GeoCoder } from './services/geo-coder';\nimport { NavigatorGeolocation } from './services/navigator-geolocation';\nimport { NG_MAP_CONFIG_TOKEN, ConfigOption } from './services/config';\nimport { NgMapApiLoader, NgMapAsyncCallbackApiLoader } from './services/api-loader';\n\nimport { NguiMapComponent } from './components/ngui-map.component';\nimport { InfoWindow } from './components/info-window';\nimport { CustomMarker } from './components/custom-marker';\n\nimport { BicyclingLayer } from './directives/bicycling-layer';\nimport { Circle } from './directives/circle';\nimport { DataLayer } from './directives/data-layer';\nimport { DirectionsRenderer } from './directives/directions-renderer';\nimport { DrawingManager } from './directives/drawing-manager';\nimport { GroundOverlay } from './directives/ground-overlay';\nimport { HeatmapLayer } from './directives/heatmap-layer';\nimport { KmlLayer } from './directives/kml-layer';\nimport { Marker } from './directives/marker';\nimport { NguiMap } from './services/ngui-map';\nimport { PlacesAutoComplete } from './directives/places-auto-complete';\nimport { Polygon } from './directives/polygon';\nimport { Polyline } from './directives/polyline';\nimport { StreetViewPanorama } from './directives/street-view-panorama';\nimport { TrafficLayer } from './directives/traffic-layer';\nimport { TransitLayer } from './directives/transit-layer';\n\nconst COMPONENTS_DIRECTIVES = [\n  NguiMapComponent, InfoWindow,\n  Marker, Circle, CustomMarker, Polygon, InfoWindow, Polyline, GroundOverlay,\n  TransitLayer, TrafficLayer, HeatmapLayer, BicyclingLayer, KmlLayer, DataLayer,\n  StreetViewPanorama, PlacesAutoComplete, DirectionsRenderer,\n  DrawingManager,\n];\n\n@NgModule({\n  imports: [ CommonModule ],\n  declarations: COMPONENTS_DIRECTIVES,\n  exports: [COMPONENTS_DIRECTIVES],\n  providers: [\n    GeoCoder,\n    NavigatorGeolocation,\n    NguiMap,\n    OptionBuilder,\n    {provide: NgMapApiLoader, useClass: NgMapAsyncCallbackApiLoader},\n  ]\n})\nexport class NguiMapModule {\n  static forRoot(config: ConfigOption = {}): ModuleWithProviders {\n    return {\n      ngModule: NguiMapModule,\n      providers: [\n        { provide: NG_MAP_CONFIG_TOKEN, useValue: config }\n      ],\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/ngui-map.module.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_33__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/common\"\n// module id = 33\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_34__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/ReplaySubject\"\n// module id = 34\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_35__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/operator/first\"\n// module id = 35\n// module chunks = 0"],"sourceRoot":""}